/**
 * Raiz v0.2.2 @ 2018/10/12 - https://raiz.wallrio.com
 * License: MIT
 * Author: Wallace Rio (http://wallrio.com)
 */

var Raiz=function r(e){this.version="0.2.2",this.config={domain:""},this.attachModule=function(e){var t=new e;r.prototype[t.name]=t},r.prototype.featureDOM(),r.prototype.init(),r.prototype.monitorUrl()};Raiz.prototype.timestep=function(e){var t=arguments,r=[],n=0;for(var a in t)0<a&&(r[n]=t[a],n++);window.requestAnimationFrame(function(){e&&e.apply(this,r)})},Raiz.prototype.init=function(e){var t=function(e){var t=document.querySelector("html");if(null!=t||null!=t)return void 0!==t.getAttribute("raiz-controller")&&null!==t.getAttribute("raiz-controller")||t.setAttribute("raiz-controller",""),!1;setTimeout(function(e){e(e)},0,e)};t(t)},Raiz.prototype.monitorUrl=function(e){var t=window.location.href;if(null==Raiz.prototype.monitorUrl.callback&&(Raiz.prototype.monitorUrl.callback=Array()),null!=e){var r=Raiz.prototype.monitorUrl.callback.length;Raiz.prototype.monitorUrl.callback[r]=e,RaizSettings.prototype.init(),e()}if(void 0===Raiz.prototype.monitorUrl.saved||Raiz.prototype.monitorUrl.saved!=t){Raiz.prototype.monitorUrl.saved=t;for(var n=0;n<Raiz.prototype.monitorUrl.callback.length;n++){var a=Raiz.prototype.monitorUrl.callback[n];RaizSettings.prototype.init(),a()}}return null!=e||(setTimeout(function(){Raiz.prototype.monitorUrl()},200),!1)},Raiz.prototype.getClassEvent=function(e){return null!=e&&(null===e.getAttribute("data-raiz-controller")&&null===e.getAttribute("raiz-controller")?"HTML"!=e.tagName&&Raiz.prototype.getClassEvent(e.parentNode):null!==e.getAttribute("data-raiz-controller")?e.getAttribute("data-raiz-controller"):null!==e.getAttribute("raiz-controller")?e.getAttribute("raiz-controller"):void 0)},Raiz.prototype.getElementParentByAttr=function(e,t){return null!=e&&(null===e.getAttribute("data-"+t)&&null===e.getAttribute(t)?"HTML"!=e.tagName&&Raiz.prototype.getElementParentByAttr(e.parentNode,t):null!==e.getAttribute("data-"+t)?e.getAttribute("data-"+t):null!==e.getAttribute(t)?e.getAttribute(t):void 0)},Raiz.prototype.getElementParentByTag=function(e,t){return null!=e&&("raiz-component-package"!==e.nodeName.toLowerCase()?"HTML"!=e.tagName&&Raiz.prototype.getElementParentByTag(e.parentNode,t):"raiz-component-package"===e.nodeName.toLowerCase()?e.nodeName.toLowerCase():void 0)},Raiz.prototype.require=function(o,e){var t=function(e,t,r,n){if(null==t[r])return n&&n(),!1;var a=t[r],i=document.createElement("script");i.src=a,i.onload=function(){e(e,o,r+1,n)},i.onerror=function(){e(e,o,r+1,n)},document.querySelector("head").appendChild(i)};t(t,o,0,e)},Raiz.prototype.ifExist=function(variable,callback){try{var variableNew=eval(variable);if(null!=variableNew){var newArg=[],index=0;for(var key in arguments)1<key&&(newArg[index]=arguments[key],index++);return setTimeout(function(e,t,r){e&&e.apply(t,r)},900,callback,variableNew,newArg),!1}}catch(e){}if(null!=variableNew)return!1;setTimeout(function(e,t){Raiz.prototype.ifExist(e,t)},100,variable,callback)},Raiz.prototype.walkDom=function(e,t,r){void 0===e&&(e=document.querySelector("html")),"string"==typeof e&&(e=document.querySelector(e));var n=t.element||null,a=t.object||null,i=function(e,t,r,n,a,i,o){if(void 0===t[r])return o&&o(a,i),!1;var l=t[r];void 0!==l.tagName&&n&&n.call(l,a,i),r++,setTimeout(function(e,t,r,n,a,i,o){e(e,t,r,n,a,i,o)},1,e,t,r,n,a,i,o)};i(i,e.querySelectorAll("[id],[name],[class]"),0,n,e,a,function(e,t){r&&r(e,t)})},Raiz.prototype.walkElement=function(e,t,r){void 0===e&&(e=document.querySelector("html")),"string"==typeof e&&(e=document.querySelector(e));var l=e.getElementsByTagName("*"),n=function(r,n,a,i,e){if(null==l[e])return i&&i(),!1;var t=n[e];if(void 0!==t.tagName){var o=String(t.tagName).toLowerCase();void 0!==a[o]&&"function"==typeof a[o]&&a[o].call(t,function(e,t){r(r,n,a,i,t+1)},e)}};n(n,l,t,r,0)},Raiz.prototype.appended={js:[],css:[]},Raiz.prototype.append=function(i,e,t,o){null==o&&(o=!1);var r=document.createElement("div");r.innerHTML=e;r.querySelectorAll("script"),r.querySelectorAll("style"),r.querySelectorAll("link");Raiz.prototype.walkElement(r,{script:function(e,t){if("text/html"===String(this.type).toLowerCase())return e&&e(this,t),!1;var r=document.createElement("script");if(this.src){if(1==o)for(var n in Raiz.prototype.appended.js)if(cssContent=Raiz.prototype.appended.js[n],cssContent==this.src)return e&&e(this,t),!1;var a=Raiz.prototype.appended.css.length;Raiz.prototype.appended.js[a]=this.src,r.src=this.src,r.onerror=function(){e&&e(this,t)},r.onload=function(){e&&e(this,t)},i.appendChild(r)}else{if(r.innerHTML=this.innerHTML,1==o)for(var n in Raiz.prototype.appended.css)if(cssContent=Raiz.prototype.appended.css[n],cssContent==this.innerHTML)return e&&e(this,t),!1;a=Raiz.prototype.appended.css.length;Raiz.prototype.appended.css[a]=this.innerHTML,i.appendChild(r),e&&e(this,t)}},style:function(e,t){var r=document.createElement("style");if(r.innerHTML=this.innerHTML,1==o)for(var n in Raiz.prototype.appended.css)if(cssContent=Raiz.prototype.appended.css[n],cssContent==this.innerHTML)return e&&e(this,t),!1;var a=Raiz.prototype.appended.css.length;Raiz.prototype.appended.css[a]=this.innerHTML,setTimeout(function(e,t,r){null!==e.getAttribute("head")?document.querySelector("head").appendChild(r):t.appendChild(r)},0,this,i,r),e&&e(this,t)},link:function(e,t){var r=document.createElement("link");if(r.href=this.href,r.rel=this.rel,1==o)for(var n in Raiz.prototype.appended.css)if(cssContent=Raiz.prototype.appended.css[n],cssContent==r.href)return e&&e(this,t),!1;var a=Raiz.prototype.appended.css.length;Raiz.prototype.appended.css[a]=r.href,r.onerror=function(){e&&e(this,t)},r.onload=function(){e&&e(this,t)},i.appendChild(r)}},function(){t&&t(i,r,e)})},Raiz.prototype.featureDOM=function(){HTMLElement.prototype.appendWithoutHTML=function(e,t,r){Raiz.prototype.append(this,e,function(){t&&t.call(this,e)})},HTMLElement.prototype.htmlTemplate=function(e,i,t,r){if(null==e)return this.innerHTML;var o=this;document.querySelector("head");1==r&&(this.innerHTML=e,i&&i.call(o,e)),Raiz.prototype.append(this,e,function(e,t,r){var n=document.createElement("div");n.innerHTML=r;var a=n.querySelector('script[type="text/html"]');null!=a&&(e.innerHTML=a.innerHTML),i&&i.call(o,r)},t)},HTMLElement.prototype.html=function(r,n){if(null==r)return this.innerHTML;this.innerHTML=r,Raiz.prototype.append(this,r,function(e,t){n&&n(r)})}};var raiz=new Raiz,RaizEssentials=function(){function RaizEssentials(){this.name="essentials"}return RaizEssentials.prototype.loopList=[],RaizEssentials.prototype.loop=function(){var e=arguments[0],t=arguments[1],r=[],n=0;for(var a in arguments)1<a&&(r[n]=arguments[a],n++);var i=RaizEssentials.prototype.loopList.length;RaizEssentials.prototype.loopList[i]=function(e,t,r,n,arguments){try{if(t)var a=t.apply(arguments,n);if(!1===a)return!1}catch(e){}setTimeout(function(e,t,r,n,arguments){RaizEssentials.prototype.loopList[e](e,t,r,n,arguments)},r,e,t,r,n,arguments)},RaizEssentials.prototype.loopList[i](i,e,t,r,arguments)},Raiz.prototype.loop=RaizEssentials.prototype.loop,RaizEssentials.prototype.size=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return{document:{width:document.body.offsetWidth,height:document.body.offsetHeight},browser:{width:e,height:t}}},RaizEssentials.prototype.checkJson=function(e){return!!/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},RaizEssentials.prototype.time=function(){var e=arguments[0],t=[],r=[],n=0,a=0;for(var i in arguments)r[a]=arguments[i],a++,0<i&&(t[n]=arguments[i],n++);window.requestAnimationFrame(function(){e&&e.apply(this,t),RaizEssentials.prototype.time.apply(this,r)})},RaizEssentials.prototype.stringToObject=function(sJson,allMode){null==sJson&&(sJson=""),null==allMode&&(allMode=!1);try{!1===allMode?eval("var obj={"+sJson+"}"):eval("var obj="+sJson)}catch(e){obj=null}return obj},RaizEssentials.prototype.ajax=function(e){var t=e.url||null,r=e.success||null,n=e.error||null,a=e.progress||null,i=e.data||null,o=e.method||"get";if(!1===e.async)var l=!1;else l=!0;var s,c=function(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml3.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return null}();"get"==o.toLowerCase()&&null!=i&&(t=t+"?"+(s=i,""+Object.keys(s).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])}).join("&"))),c.open(o,t,l),c.upload&&(c.upload.onprogress=function(e){e.lengthComputable&&a&&a(e.loaded,e.total)},c.upload.onloadstart=function(e){a&&a(0,e.total)},c.upload.onloadend=function(e){a&&a(e.loaded,e.total)},c.upload.onprogress=function(e){if(e.lengthComputable)Math.floor(e.loaded/e.total*100)}),c.onreadystatechange=function(){if(3<c.readyState){if(404===c.status)return n&&n(c.responseText),!1;r&&r(c.responseText)}};var u=new FormData;for(var p in i)i.hasOwnProperty(p)&&u.append(p,i[p]);o.toLowerCase(),c.send(u)},RaizEssentials.prototype.addEvent=function(e,t,o,r,n,a,i){var l=t.split(" "),s=arguments,c=function(e,t,r){null==t&&(t=!0);var n=e;null==n&&(n=window),nArgs_reindex=[];nArgs_reindex[0]=!1;for(var a=0;a<r.length;a++)3<a&&(nArgs_reindex[nArgs_reindex.length]=r[a]);if(n.addEventListener)for(a=0;a<l.length;a++){var i=l[a];!function(t,r,n,e,a){r.addEventListener(a,function(e){if(t[0]=e,n)return n.apply(r,t)},e)}(nArgs_reindex,n,o,t,i)}else if(n.attachEvent)for(a=0;a<l.length;a++){i=l[a];n.attachEvent("on"+i,function(e){if(nArgs_reindex[0]=e,o)return o.call(n,nArgs_reindex)})}};if("string"!=typeof e)c(e,r,s);else for(var u=document.querySelectorAll(e),p=0;p<u.length;p++){var d=u[p];c(d,r,s)}},RaizEssentials.prototype.filterMethodsEvents=function(t){t._ifexist=Raiz.prototype.ifExist,t._extend=raiz.essentials.extend,t._size=raiz.essentials.size,t._loop=raiz.essentials.loop,t._time=raiz.essentials.time,t._isjson=raiz.essentials.checkJson,t._event=raiz.essentials.addEvent,t._ajax=raiz.essentials.ajax,t._observer=raiz.observer,t._selector=function(e){try{return t.container.querySelectorAll(e)}catch(e){return}};var e=[],r=0;for(var n in t)e[r]={key:n,controller:t},r++;var a=function(e,t,r,n,a){var i=!0,o=n.container,l=t[r];try{var s=l.key}catch(e){return a&&a(n,o),!1}var c=l.controller,u=c[s];try{var p=o.querySelectorAll(s)}catch(e){p=[];i=!1}if("string"!=typeof c[s]&&0<p.length&&(c[s].dom=p),!1!==i)for(var d in p){var m=p[d];null!=m.tagName&&("function"==typeof u&&"function (){}"!=u.toString()&&(null==m.raiz&&(m.raiz={}),null==m.raiz.event&&(m.raiz.event={}),void 0===m.raiz.event.attach&&(m.raiz.event.attach=u,RaizEssentials.prototype.attachEventEffective(m,n,s,u,p))))}r++,setTimeout(function(e,t,r,n,a){e(e,t,r,n,a)},10,e,t,r,n,a)};a(a,e,0,t,function(){})},RaizEssentials.prototype.attachEventEffective=function(e,t,r,n,a){try{var i=n()}catch(e){return!1}for(var o in i)if("attr"==o)for(var l in i[o])e[l]=i[o][l];else{var s=o.replace(","," ");raiz.essentials.addEvent(e,s,function(e,t,r,n){return $return=t[r].call(this,e),!1===$return&&e.preventDefault(),$return},null,i,o,t)}},RaizEssentials.prototype.extend=function(e,t){null==t&&(t=this);t.controller;for(var r in e)e.hasOwnProperty(r)&&t[r]!==e[r]&&(t[r]=e[r]);setTimeout(function(e,t){RaizEssentials.prototype.extend(e,t)},300,e,t)},RaizEssentials}();raiz.attachModule(RaizEssentials);var RaizSettings=function(){return this.name="settings",this};raiz.attachModule(RaizSettings),RaizSettings.prototype.init=function(){var e=document.querySelector("script[raiz-settings]");if(null==e)return t={domain:""},raiz.settings.data=t,setTimeout(function(){RaizSettings.prototype.init()},100),!1;var t=e.innerHTML;try{t=raiz.essentials.stringToObject(t,!0)}catch(e){t={domain:""}}raiz.settings.data=t,raiz.essentials.loop(function(e){if(null!=e.domain){var t=String(window.location.href).replace(e.domain,"");"/"==t.substr(0,1)&&(t=t.substr(1)),e.page=t.split("#")[0],""!=e.page&&"/"!=e.page||(e.page="home"),e.hash=window.location.hash.substr(1)}},1e3,t)},RaizSettings.prototype.init();var RaizInterpolation=function e(){this.name="interpolation",this.interpolationRegex=/({{[\s\S]*?}})/gim,this.signalConvertInterpolation=">>>",this.filterList={},this.filter=function(e,t){this.filterList[e]={},this.filterList[e].method=t},raiz.essentials.addEvent(window,"load",function(){raiz.loop(function(){e.prototype.monitor()},100)})};raiz.attachModule(RaizInterpolation),RaizInterpolation.prototype.monitor=function(e,t){RaizInterpolation.prototype.prepareVirtualContent(function(){})},RaizInterpolation.prototype.goDom=function(e,t){void 0===e&&(e=document.querySelector("html")),"string"==typeof e&&(e=document.querySelector(e));var r=t.text||null,n=t.element||null,a=e.getElementsByTagName("*");for(var i in a){var o=a[i];if(null!=o.childNodes&&0<o.childNodes.length)for(var l in o.childNodes){var s=o.childNodes[l];"#text"==s.nodeName?n&&r.call(s):"#comment"==s.nodeName?n&&r.call(s):void 0!==s.nodeName&&n&&n.call(s)}}},RaizInterpolation.prototype.prepareVirtualContent=function(e){var t=document.querySelectorAll("[data-raiz-controller],[raiz-controller]");if(0<t.length)for(var r=0;r<t.length;r++){var n=t[r];RaizInterpolation.prototype.goDom(n,{text:function(){RaizInterpolation.prototype.initRaizText(this)},element:function(){RaizInterpolation.prototype.initRaizElement(this)}})}e&&e()},RaizInterpolation.prototype.initRaizElement=function(l){if(null==l.raiz&&(l.raiz={}),!1!==raiz.getElementParentByAttr(l.parentNode,"no-interpolation"))return!1;if(!1!==raiz.getElementParentByTag(l.parentNode,"raiz-component-package"))return!1;l.raiz.status="initialized";for(var e in l.attributes){if("object"==typeof(i=l.attributes[e])&&(/({{[\s\S]*?}})/g.test(i.nodeValue)||/({{[\s\S]*?}})/g.test(i.nodeName))){if(null==l.raiz&&(l.raiz={}),null==l.raiz.attr&&(l.raiz.attr={}),!0,null!=l.raiz.attr[i.nodeName])continue;l.raiz.attr[i.nodeName]={};var t=RaizInterpolation.prototype.setupInterpolation(l,i.nodeValue);l.raiz.attr[i.nodeName].name=i.nodeName,l.raiz.attr[i.nodeName].nameReal=i.nodeName;var r=i.nodeValue;l.raiz.attr[i.nodeName].reference=r,l.raiz.attr[i.nodeName].value=i.nodeValue,l.raiz.attr[i.nodeName].attrNode=e,l.raiz.attr[i.nodeName].setup=t}}for(var n in l.raiz.attr){var a=n,i=l.raiz.attr[n].value;if(!0!==l.raiz.attr[n].init){l.raiz.attr[n].init=!0;var o=function(o,e,t,r,n){RaizInterpolation.prototype.changeAttr(e,t,r,n,function(e,t,r,n){var a=l.raiz.attr[t].setup,i=a.config.delay;!1!==a.config.loop&&setTimeout(function(e,t,r,n,a){e(e,t,r,n,a)},i,o,e,t,r,n)})};/({{[\s\S]*?}})/g.test(i)&&o(o,l,a,i,"value"),/({{[\s\S]*?}})/g.test(a)&&o(o,l,a,i,"name")}}},RaizInterpolation.prototype.changeAttr=function(a,e,t,r,n){a.raiz.attr[e].setup,a.raiz.attr[e].attrNode;if("value"==r)var i=a.raiz.attr[e].value;else i=a.raiz.attr[e].name;if(/({{[\s\S]*?}})/gim.test(i)&&(result=i.replace(/({{[\s\S]*?}})/gim,function(e,t,r,n){return RaizInterpolation.prototype.calc(a,a,e,null).content}),/({{[\s\S]*?}})/gim.test(i)))if("value"==r){if(a[e]!=result&&(a[e]=result),a.getAttribute(e)!=result)try{a.setAttribute(e,result)}catch(e){}}else for(var o in a.raiz.attr){e=o,t=a.raiz.attr[o].value;if(a.raiz.attr[e].nameReal!=result){var l=String(a.raiz.attr[e].nameReal).toLowerCase();a.removeAttribute(l),a.raiz.attr[e].nameReal=result,a.setAttribute(result,t)}}n&&n(a,e,t,r)},RaizInterpolation.prototype.initRaizText=function(e){if(null!=e.raiz)return!1;var t=e.nodeValue;if("#comment"==e.nodeName)var r=/(^ *?{{[\s\S]*?}} *?$)/g;else r=/({{[\s\S]*?}})/g;if(r.test(t)){if(!1!==raiz.getElementParentByAttr(e.parentNode,"no-interpolation"))return!1;if(!1!==raiz.getElementParentByTag(e.parentNode,"raiz-component-package"))return!1;e.raiz={},e.raiz.reference=t,e.raiz.status="initialized",e.raiz.type=e.nodeName;var n=t.match(/({{[\s\S]*?}})/g);if(0<n.length){var a=(t=t.replace(/({{[\s\S]*?}})/g,function(e,t,r,n){return"###"})).split("###"),i=(e.parentNode,0);for(var o in a){var l=a[o],s=document.createTextNode(l);if(null!=e.parentNode&&e.parentNode.insertBefore(s,e),!(i>=n.length)){l=n[i],s=document.createTextNode(l);if(null!==l){if(!1!==raiz.getElementParentByAttr(e.parentNode,"no-interpolation"))return!1;if(!1!==raiz.getElementParentByTag(e.parentNode,"raiz-component-package"))return!1;s.raiz={},s.raiz.reference=l,s.raiz.status="initialized",s.raiz.type=s.nodeName;var c=RaizInterpolation.prototype.setupInterpolation(s,l);s.raiz.setup=c}var u=function(n,e,t){RaizInterpolation.prototype.changeContent(e,t,function(e,t){var r=e.raiz.setup.config.delay;!1!==e.raiz.setup.config.loop&&window.requestAnimationFrame(function(){setTimeout(function(e,t,r){e(e,t,r)},r,n,e,t)})})};u(u,s,e),null!=e.parentNode&&e.parentNode.insertBefore(s,e),i++}}null!=e.parentNode&&e.parentNode.removeChild(e)}}},RaizInterpolation.prototype.setupInterpolation=function(e,t){var r=(a=(t=(t=(t=(t=t.replace(/\<\!\-\-\{\{/gi,"")).replace(/\}\}\-\-\>/gi,"")).replace(/\{\{/gi,"")).replace(/\}\}/gi,"")).split("@@@"))[0];if(void 0!==(n=a[1])){n=n.trim();var n=raiz.essentials.stringToObject(n)}else n={delay:50,loop:!0};r=(a=r.split(raiz.interpolation.signalConvertInterpolation))[0];var a,i=a[1];i=null!=i&&i.trim();var o=/^ *?__.*?__ *?$/gi.test(r);!0===o&&(o=r);var l=r,s=raiz.getClassEvent(e.parentNode);return!1!==s&&(l=(l=l.replace(/this\./gi,s+".")).replace(/self\./gi,s+".")),{reference:l,config:n,snippet:i,reservedMethod:o}},RaizInterpolation.prototype.changeContent=function(h,b,e){var t=h.raiz.reference;/({{[\s\S]*?}})/g.test(t)&&(result=t.replace(/({{[\s\S]*?}})/g,function(e,t,r,n){if(!1!==raiz.getElementParentByAttr(b.parentNode,"no-interpolation"))return!1;if(!1!==raiz.getElementParentByAttr(h.parentNode,"no-interpolation"))return!1;if(!1!==raiz.getElementParentByTag(h.parentNode,"raiz-component-package"))return!1;var a=RaizInterpolation.prototype.calc(h,b,e,function(e,t,r,n,a,i,o){if("filter"!==i)return!1;var l=e.raiz.reference;e.raiz.reference="";l=l.replace(a,r);if(null==e.innerHTML){if(e.textContent!=l){var s=e.raiz.reference,c=document.createElement("span");c.innerHTML=l,c.setAttribute("raiz-node-filter","element"),c.raiz={},c.raiz.reference=s,c.raiz.status="success",c.raiz.setup=t;for(var u=!1,p=c.childNodes,d=0;d<p.length;d++)"#text"!=p[d].nodeName&&(u=!0);1==u?(document.createElement("span"),o.tagName,o.insertBefore(c,e.firstChild)):(e.raiz.status="success",e.textContent=l)}}else e.raiz.content!=l&&(s=e.raiz.reference,t=RaizInterpolation.prototype.setupInterpolation(e,s),e.raiz={},e.raiz.reference=s,e.raiz.status="success",e.raiz.setup=t,e.raiz.content=l,e.innerHTML=l)});if(1==a.callback)return h.nodeValue="",!1;if("#comment"==a.type&&"error"==a.status){var i=document.createElement("div");if(null!=(d=b.parentNode)){var o=document.createComment(a.content);return o.raiz={},d.insertBefore(o,b.nextSibling),setTimeout(function(e,t){e.appendChild(t)},0,i,h),!1}}if(null==h.innerHTML){if(h.textContent!=a.content){var l=h.raiz.reference,s=document.createElement("span");s.innerHTML=a.content,s.setAttribute("raiz-node","element"),s.raiz={},s.raiz.reference=l,s.raiz.status="success",s.raiz.setup=m;for(var c=!1,u=s.childNodes,p=0;p<u.length;p++)"#text"!=u[p].nodeName&&(c=!0);if(1==c){var d;document.createElement("span");if(null==(d=b.parentNode))return!1;d.tagName,d.insertBefore(s,h.firstChild),d.removeChild(b);var m=RaizInterpolation.prototype.setupInterpolation(h,l),v=d.querySelectorAll("[raiz-node]");for(var f in v){var z=v[f];if(z.raiz={},null!=z.raiz){z.raiz.reference=l,z.raiz.status="success",z.raiz.setup=m;var y=function(n,e,t){RaizInterpolation.prototype.changeContent(e,t,function(e,t){var r=e.raiz.setup.config.delay;!1!==e.raiz.setup.config.loop&&setTimeout(function(e,t,r){e(e,t,r)},r,n,e,t)})};y(y,z,b)}}}else h.raiz.status="success",h.textContent=a.content}}else if(null!=a&&h.raiz.content!=a.content){l=h.raiz.reference,m=RaizInterpolation.prototype.setupInterpolation(h,l);h.raiz={},h.raiz.reference=l,h.raiz.status="success",h.raiz.setup=m,h.raiz.content=a.content,h.innerHTML=a.content}if("success"==h.raiz.status)return!1;var g=h.raiz.reference;/({{[\s\S]*?}})/g.test(g)&&(result=g.replace(/({{[\s\S]*?}})/g,function(e,t,r,n){RaizInterpolation.prototype.calc(h,b,e,function(e,t,r,n,a){var i=e.raiz.reference;e.raiz.reference="";i=i.replace(a,r);null==e.innerHTML?e.textContent!=i&&(e.textContent=r):e.innerHTML!=i&&(e.innerHTML=i)})}))})),e&&e(h,b)},RaizInterpolation.prototype.calc=function(element,elementReal,m,callback){null==elementReal.parentNode&&(elementReal=element);var mOriginal=m,classEvent=raiz.getElementParentByAttr(elementReal.parentNode,"raiz-controller");!1!==classEvent&&(m=m.replace(/this\./gi,classEvent+"."),m=m.replace(/self\./gi,classEvent+"."));var setup=RaizInterpolation.prototype.setupInterpolation(element,m);m=setup.reference;var result=null,isFunction=!1,useCallback=!1;if(!1!==setup.reservedMethod){var callbackreservedMethod=function(e,t){callback&&callback(element,setup,e,t,mOriginal)},resultReservedMethod=RaizInterpolation.prototype.reservedMethod(m,element.parentNode,callbackreservedMethod,setup);m=(result="callback"==resultReservedMethod?(useCallback=!0,""):resultReservedMethod,result)}try{var result=eval(m);isFunction=!1}catch(e){try{isFunction=!0;var nFunc=new Function(m);result=nFunc()}catch(e){isFunction=!1,element.vDomContentType=""}}if(!1!==setup.snippet){var callbackSnippetMethod=function(e,t,r,n){callback&&callback(element,setup,e,t,mOriginal,r,n)},resultReservedMethod=RaizInterpolation.prototype.snippetMethod(element,m,setup,callbackSnippetMethod,elementReal.parentNode);m=(result="callback"==resultReservedMethod?(useCallback=!0,"a"):resultReservedMethod,result)}"object"==typeof result&&(result=JSON.stringify(result));var status="success";return void 0!==result&&"undefined"!==result&&null!==result&&"null"!==result||(result=(null==callback&&(status="error"),mOriginal)),{content:result,setup:setup,status:status,type:elementReal.raiz.type,callback:useCallback}},RaizInterpolation.prototype.reservedMethod=function(e,t,r,n){var a=e,i={};void 0!==n&&(i=n.config);var o=e,l=n.reservedMethod;if(-1!=l.indexOf("__time__")){var s=new Date,c=s.getTime(),u=(s.getDate(),s.getMonth(),s.getFullYear(),s.getHours(),s.getMinutes(),s.getSeconds(),c);return o=o.replace("__time__",u)}if(-1!=l.indexOf("__helloworld__"))return"Congratulations, <strong>Raiz v"+raiz.version+"</strong> was successfully loaded";if(-1!=l.indexOf("__request__")){var p=i.method||"get",d=i.url||!1;return 0==d?"["+l+": not found URL]":(raiz.essentials.ajax({url:d,method:p,data:i,success:function(e){r&&r(e,o,a)}}),"callback")}},RaizInterpolation.prototype.snippetMethod=function(el,string,setup,callback,parent){try{var testString=eval(string)}catch(e){string="undefined"}if(null==string)return string;var string_full=string;string=string.replace(/\<\!\-\-\{\{/gi,""),string=string.replace(/\}\}\-\-\>/gi,""),string=string.replace(/\{\{/gi,""),string=string.replace(/\}\}/gi,"");var snippet=setup.snippet;content=string.trim(),snippetArray=snippet.split(":::"),snippet=snippetArray[0];var snippetParameters=snippetArray[1]||"";snippetParameters=snippetParameters.replace(/\"/gi,'\\"');var contentClean=content.replace(/[\"|\'](.*)[\"|\']/g,function(e,t,r,n){return t});"undefined"==string&&(contentClean=void 0);var contentReal=eval(content);if(void 0!==raiz.interpolation.filterList[snippet]){el.raiz.setup;var method=raiz.interpolation.filterList[snippet].method;try{eval(" content = ("+method+')(contentClean,"'+snippetParameters+'",function(content){ setTimeout(function(content){callback(content,'+string_full+',"filter",parent);},0,content,parent); }); '),"ttt"===content&&el.raiz.setup}catch(e){}return"callback"}if("uppercase"==snippet){try{eval(" content = String("+content+").toUpperCase(); ")}catch(e){}callback&&callback(content)}else if("autosequence"==snippet){var array=eval(content);void 0===el.raiz.marqueeIndex&&(el.raiz.marqueeIndex=0),void 0===array[el.raiz.marqueeIndex]&&(el.raiz.marqueeIndex=0),content=array[el.raiz.marqueeIndex],callback&&callback(content),el.raiz.marqueeIndex++}else if("totime"==snippet){eval("var currentdate = new Date(Number("+content+"));");var datetime=currentdate.getDate()+"/"+(currentdate.getMonth()+1)+"/"+currentdate.getFullYear()+" "+currentdate.getHours()+":"+currentdate.getMinutes()+":"+currentdate.getSeconds();content=datetime,callback&&callback(content)}else if("remote"==snippet)try{eval(" content = ("+content+"); ")}catch(e){}return content},raiz.interpolation.filter("lowercase",function(e,t,r){content=String(e).toLowerCase(),r(content)}),raiz.interpolation.filter("jsonparse",function(value,snippetParameters,callback){var jsonString=eval(value),jsonObj=JSON.parse(jsonString),content=eval("jsonObj"+snippetParameters);callback(content)}),raiz.interpolation.filter("onerror",function(value,snippetParameters,callback){callback(null==value?snippetParameters:eval(value))}),raiz.interpolation.filter("ajax",function(t,e,r){var n=JSON.parse(e),a=n.method||"get",i=n.url||!1,o=n.config||{};if(0==i)return r("[not found URL parameter JSON]"),!1;null==t&&(t=""),raiz.essentials.ajax({url:i,method:a,data:o,success:function(e){r&&r(t+e)},error:function(e){r&&r(t+e)}})});var RaizIf=function e(){this.name="if";var t=document.createElement("style");t.innerHTML="[raiz-if]{display:none !important}",document.querySelector("head").appendChild(t),raiz.essentials.addEvent(window,"load",function(){e.prototype.loop()})};raiz.attachModule(RaizIf),RaizIf.prototype.loop=function(){RaizIf.prototype.init(),setTimeout(function(){RaizIf.prototype.loop()},10)},RaizIf.prototype.init=function(){for(var raizIfrAll=document.querySelectorAll("[raiz-if],[data-raiz-if],[raiz-if-show],[data-raiz-if-show]"),i=0;i<raizIfrAll.length;i++){var el=raizIfrAll[i];null==el.raiz&&(el.raiz={}),null==el.raiz.if&&(el.raiz.if={},el.raiz.if.current=null,el.raiz.if.display=el.style.display);var raizTrueJs=el.getAttribute("raiz-if-true-js"),raizFalseJs=el.getAttribute("raiz-if-false-js"),raizTrueAttr=el.getAttribute("raiz-if-true-attr"),raizFalseAttr=el.getAttribute("raiz-if-false-attr"),raizTrueClass=el.getAttribute("raiz-if-true-class"),raizFalseClass=el.getAttribute("raiz-if-false-class"),raizTrueStyle=el.getAttribute("raiz-if-true-style"),raizFalseStyle=el.getAttribute("raiz-if-false-style");if(null!=raizTrueStyle)var raizTrueStyleArray=raizTrueStyle.split(";");if(null!=raizFalseStyle)var raizFalseStyleArray=raizFalseStyle.split(";");if(null!=raizTrueAttr){var raizTrueAttrArray=raizTrueAttr.split("="),raizTrueAttrKey=raizTrueAttrArray[0]||void 0;if(null!=raizTrueAttrArray[1])var raizTrueAttrValue=raizTrueAttrArray[1]}if(null!=raizFalseAttr){var raizFalseAttrArray=raizFalseAttr.split("="),raizFalseAttrKey=raizFalseAttrArray[0]||void 0;if(null!=raizFalseAttrArray[1])var raizFalseAttrValue=raizFalseAttrArray[1]}var condition=el.getAttribute("raiz-if");null==condition&&(condition=el.getAttribute("raiz-if-show"));var classEvent=raiz.getClassEvent(el);if(condition=condition.replace("this.",classEvent+"."),condition=condition.replace("self.",classEvent+"."),null!=raizTrueAttr||null!=raizFalseAttr||null!=raizTrueStyle||null!=raizFalseStyle||null!=raizTrueClass||null!=raizFalseClass){var nohide=!0;el.setAttribute("raiz-if-show",condition),el.removeAttribute("raiz-if")}else var nohide=!1;try{var cond=eval(condition)}catch(e){var cond=!1}if(cond){if(1!=el.raiz.if.current){if(el.raiz.if.current=!0,0==nohide&&(null!=el.raiz.if.content&&(el.innerHTML=el.raiz.if.content),el.setAttribute("raiz-if-show",condition),el.removeAttribute("raiz-if")),null!=raizTrueStyle)for(var keyCss in raizTrueStyleArray){var raizTrueStyleArrayItem=raizTrueStyleArray[keyCss].split(":"),cssName=raizTrueStyleArrayItem[0],cssValue=raizTrueStyleArrayItem[1];null!=cssValue&&(el.style[cssName]=cssValue)}null!=raizTrueClass&&el.classList.add(raizTrueClass),null!=raizTrueJs&&eval(raizTrueJs),null!=raizTrueAttrKey&&("!"===raizTrueAttrKey.substr(0,1)?el.removeAttribute(raizTrueAttrKey.substr(1)):el.removeAttribute(raizTrueAttrKey),"!"!==raizTrueAttrKey.substr(0,1)&&(void 0===raizTrueAttrValue&&(raizTrueAttrValue=raizTrueAttrKey),el.setAttribute(raizTrueAttrKey,raizTrueAttrValue)));var ifTrue=el.getAttribute("raiz-if-true");eval(ifTrue)}}else if(0!=el.raiz.if.current){if(el.raiz.if.current=!1,!1===nohide){var content=el.innerHTML;el.raiz.if.content=content,el.innerHTML="",el.removeAttribute("raiz-if-show"),el.setAttribute("raiz-if",condition)}if(null!=raizFalseStyle)for(var keyCss in raizFalseStyleArray){var raizFalseStyleArrayItem=raizFalseStyleArray[keyCss].split(":"),cssName=raizFalseStyleArrayItem[0],cssValue=raizFalseStyleArrayItem[1];null!=cssValue&&(el.style[cssName]=cssValue)}null!=raizFalseClass&&("!"===raizFalseClass.substr(0,1)?el.classList.remove(raizFalseClass.substr(1)):el.classList.remove(raizFalseClass)),null!=raizFalseJs&&eval(raizFalseJs),null!=raizFalseAttrKey&&("!"===raizFalseAttrKey.substr(0,1)?el.removeAttribute(raizFalseAttrKey.substr(1)):el.removeAttribute(raizFalseAttrKey),"!"!==raizFalseAttrKey.substr(0,1)&&(void 0===raizFalseAttrValue&&(raizFalseAttrValue=raizFalseAttrKey),el.setAttribute(raizFalseAttrKey,raizFalseAttrValue)));var ifFalse=el.getAttribute("raiz-if-false");eval(ifFalse)}}};var RaizFor=function e(){this.name="for";var t=document.createElement("style");t.innerHTML="[raiz-for],[raiz-for-hide]{display:none !important}",document.querySelector("head").appendChild(t),raiz.essentials.addEvent(window,"load",function(){e.prototype.init()})};raiz.attachModule(RaizFor),RaizFor.prototype.init=function(){monitorRemoveList=function(monitorRemoveList){var forList=document.querySelectorAll("[raiz-for-key]");if(0<forList.length)for(var i=0;i<forList.length;i++){var el=forList[i];try{var preValue=el.raiz.for.reference}catch(e){continue}eval("try{var value = "+preValue+";}catch(e){var value = false;}");var index=el.getAttribute("raiz-for-index"),forValue=el._raizForRef;if(null!=forValue)try{var val=eval("value"+forValue);null==val&&el.parentNode.removeChild(el)}catch(e){}}setTimeout(function(e){e(e)},0,monitorRemoveList)},monitorRemoveList(monitorRemoveList),RaizFor.prototype.for()},RaizFor.prototype.for=function(){var forFunc=function(gost,indexKey){var element=gost.clone,dataFor=element.getAttribute("raiz-for"),dataForArray=dataFor.split(" in "),preKey=dataForArray[0],preValue=dataForArray[1],preValueArray=preValue.split("limit"),preValue=preValueArray[0],limit=preValueArray[1]||null;if(null!=limit)var limitArray=limit.split(","),limitStart=limitArray[0],limitEnd=limitArray[1]||"-0";preKey=preKey.trim();var classEvent=raiz.getClassEvent(gost.parentNode);preValue=preValue.replace("this.",classEvent+"."),preValue=preValue.replace("self.",classEvent+".");try{eval("try{var value = "+preValue+";}catch(e){var value = false;}")}catch(e){return console.error("raiz-for(error on JSON string): ",preValue),!1}if(null!==limit){var limitStartAdjust=limitStart;(limitStart<0||"-0"==limitStart)&&(limitStart=String(limitStart).replace("-",""),limitStart=Number(limitStart),limitStartAdjust=value.length-limitStart,limitStartAdjust<0&&(limitStartAdjust=0));var limitEndAdjust=Number(limitStartAdjust)+limitEnd-1;(limitEnd<0||"-0"==limitEnd)&&(limitEnd=String(limitEnd).replace("-",""),limitEnd=Number(limitEnd),limitEndAdjust=value.length-1-limitEnd,limitEndAdjust<0&&(limitEndAdjust=0))}for(var keyPreFor in value)if(null==limit||!(Number(keyPreFor)<Number(limitStartAdjust)||Number(keyPreFor)>Number(limitEndAdjust))){value[keyPreFor].index=keyPreFor;var el=document.querySelector('[raiz-for-key="'+indexKey+'"][raiz-for-index="'+keyPreFor+'"]');if(null==el){var cln=element.cloneNode(!0);if(null==element.firstChild&&(element.innerHTML=" "),null!=element.firstChild.raiz)var preContent=element.firstChild.raiz.innerHTML||element.innerHTML;else var preContent=element.innerHTML;var checkNumberTest=Number(keyPreFor);if(isNaN(checkNumberTest))var typeKey="string";else var typeKey="number";var preContentSave=preContent,preValue2=eval(preValue);if(null==preValue2[keyPreFor].index&&(preValue=preValue2,preValue[keyPreFor].index=keyPreFor,preValue=JSON.stringify(preValue)),preContent="number"==typeKey?String(preContent).replace(new RegExp(preKey,"gm"),preValue+"["+keyPreFor+"]"):String(preContent).replace(new RegExp(preKey,"gm"),"("+preValue+")['"+keyPreFor+"']"),preContent=preContent.replace(/raiz-for=.*" /gim,""),null!=value[keyPreFor]._child){var childFunc=function(e,t,r,n,a,i,o,l,s,c,u,p){var d=String(t.tagName).toLowerCase();if("li"==d)var m="ul";else m=d;var v=r;for(var f in v+="<"+m+" >",l){var z=n,y=s+"._child["+(l[f].index=f)+"]",g=c+"._child["+f+"]";z="number"==typeKey?String(z).replace(new RegExp(a,"gm"),i+"["+o+"]"+y):String(z).replace(new RegExp(a,"gm"),"("+i+")['"+o+"']"+y),null!=l[f]._child&&(z+=e(e,t,"",n,a,i,o,l[f]._child,y,g,u));value[keyPreFor]._child[f];var h="";for(var b in t.attributes)if("raiz-for"!=t.attributes[b].name&&null!=t.attributes[b].name&&null!=t.attributes[b].value){var A=t.attributes[b].value;if(/(<!--{{[\s\S]*?}}-->|{{[\s\S]*?}})/gim.test(A))var E=String(A).replace(new RegExp(a,"gm"),i+"["+o+"]"+y);else E=t.attributes[b].value;h+=t.attributes[b].name+'="'+E+'" '}v+="<"+d+' raiz-for-key="'+p+'" raiz-for-value="'+g+'" '+h+" >"+z+"</"+d+">"}return v+="</"+m+">"},html=childFunc(childFunc,cln,preContent,preContentSave,preKey,preValue,keyPreFor,value[keyPreFor]._child,"","["+keyPreFor+"]",0,indexKey);cln.innerHTML=html}else cln.innerHTML=preContent;for(var key in setTimeout(function(e){var t=document.querySelectorAll('[raiz-for-key="'+e+'"][raiz-for-value]');if(0<t.length)for(var r=0;r<t.length;r++){var n=t[r],a=n.getAttribute("raiz-for-value");n._raizForRef=a,setTimeout(function(e){e.removeAttribute("raiz-for-value")},100,n)}},100,preKey),cln.setAttribute("raiz-for-key",indexKey),cln.setAttribute("raiz-for-index",keyPreFor),cln._raizForRef="["+keyPreFor+"]",cln.attributes){var attrValue=cln.attributes[key].value;if(/(<!--{{[\s\S]*?}}-->|{{[\s\S]*?}})/gim.test(attrValue))var attrValueSet=String(attrValue).replace(new RegExp(preKey,"gm"),"("+preValue+")['"+keyPreFor+"']");else var attrValueSet=cln.attributes[key].value;cln.attributes[key].value=attrValueSet}null==cln.raiz&&(cln.raiz={}),void 0===cln.raiz.for&&(cln.raiz.for={}),cln.raiz.for.reference=preValue,cln.raiz.for.value=value,cln.removeAttribute("raiz-for"),cln.setAttribute("raiz-for-hide",""),gost.parentNode.insertBefore(cln,gost),setTimeout(function(e){e.removeAttribute("raiz-for-hide")},200,cln)}}},raizForAll=document.querySelectorAll("[raiz-for],[data-raiz-for]");null==RaizFor.prototype.for.listFor&&(RaizFor.prototype.for.listFor={});for(var i=0;i<raizForAll.length;i++){var element=raizForAll[i],currentdate=new Date,timestamp=currentdate.getTime(),dataFor=element.getAttribute("raiz-for"),dataForArray=dataFor.split(" in "),preKey=dataForArray[0]+"_"+timestamp+"_"+i,preValue=dataForArray[1];preValue=preValue.replace(/ /gi,"");var preValueArray=preValue.split("limit"),preValue=preValueArray[0],limit=preValueArray[1]||null;if(null!=limit)var limitArray=limit.split(","),limitStart=limitArray[0],limitEnd=limitArray[1];preKey=preKey.trim();var classEvent=raiz.getClassEvent(element.parentNode);preValue=preValue.replace("this.",classEvent+"."),preValue=preValue.replace("self.",classEvent+".");try{eval("try{var value = "+preValue+";}catch(e){var value = false;}")}catch(e){return console.error("raiz-for(error on JSON string): ",preValue),!1}if(void 0===RaizFor.prototype.for.listFor[preKey]){var gost=document.createTextNode("");gost.clone=element,RaizFor.prototype.for.listFor[preKey]=gost,element.parentNode.insertBefore(gost,element.nextSibling)}element.parentNode.removeChild(element)}var index=0;for(var keyPreFor in RaizFor.prototype.for.listFor)forFunc(RaizFor.prototype.for.listFor[keyPreFor],index),index++;setTimeout(function(){RaizFor.prototype.for()},50)};var RaizEvents=function e(){this.name="events",raiz.essentials.addEvent(window,"load",function(){e.prototype.radar(function(){e.prototype.init()}),e.prototype.tagEvent(),e.prototype.tagEventAction()})};raiz.attachModule(RaizEvents),RaizEvents.prototype.init=function(){var vdomIdAll=document.querySelectorAll("[data-raiz-controller],[raiz-controller]");if(0<vdomIdAll.length)for(var i=0;i<vdomIdAll.length;i++){var container=vdomIdAll[i],controller=container.getAttribute("raiz-controller");if("raiz-component"==String(container.tagName).toLowerCase()||null!=container.getAttribute("raiz-component"))return!1;""!=String(controller).replace(/ /g,"")&&(eval("try{var currentController =  "+controller+";}catch(e){}"),null==currentController.container&&(currentController.container=container),RaizEssentials.prototype.filterMethodsEvents(currentController))}},RaizEvents.prototype.attachEventEffective=function(e,t,r,n,a){try{var i=n()}catch(e){return!1}for(var o in i)if("attr"==o)for(var l in i[o])e[l]=i[o][l];else{var s=o.replace(","," ");raiz.essentials.addEvent(e,s,function(e,t,r,n){return $return=t[r].call(this,e),!1===$return&&e.preventDefault(),$return},null,i,o,t)}},RaizEvents.prototype.radar=function(callbackFirst){var vdomIdAll=document.querySelectorAll("[data-raiz-controller],[raiz-controller]"),seq=function(seq,array,index,callback){if(index>=array.length)return callback&&callback(),!1;var container=array[index],controller=container.getAttribute("raiz-controller");if(null==controller)return index++,setTimeout(function(e,t,r,n){e(e,t,r,n)},10,seq,array,index,callback),!1;if(""==String(controller).replace(/ /g,""))return index++,setTimeout(function(e,t,r,n){e(e,t,r,n)},10,seq,array,index,callback),!1;if(eval("try{var object =  "+controller+";}catch(e){}"),null==container.raiz&&(container.raiz={}),null==container.raiz.controller){if(null==object)return setTimeout(function(e,t,r,n){e(e,t,r,n)},10,seq,array,index,callback),!1;if("raiz-component"==String(container.tagName).toLowerCase()||null!=container.getAttribute("raiz-component"))return!1;container.raiz.controller={name:controller,object:object},object.controller={name:controller,init:!1}}raiz.walkDom(container,{object:object,element:function(e){return!1}},function(e,t){if(null==t)return!1;if(null==t.controller)return!1;if(1==t.controller.init)return!1;if(t.controller.init=!0,t.construct&&null==t.construct.init){if("raiz-component"==String(e.tagName).toLowerCase()||null!=e.getAttribute("raiz-component"))return!1;t.container=e,RaizEssentials.prototype.filterMethodsEvents(t),void 0!==t.components?RaizEvents.prototype.dependenceComponents(t.components,function(){setTimeout(function(e,t){e.construct(t)},30,t,e)}):setTimeout(function(e,t){e.construct(t)},30,t,e)}}),index++,setTimeout(function(e,t,r,n){e(e,t,r,n)},10,seq,array,index,callback)};seq(seq,vdomIdAll,0,function(){callbackFirst&&callbackFirst(),setTimeout(function(){RaizEvents.prototype.radar(callbackFirst)},0)})},RaizEvents.prototype.dependenceComponents=function(e,t){var r=function(e,t,r,n){var a=t[r];if(null==a)return n&&n(t),!1;var i=document.createElement("div");i.setAttribute("raiz-component",a),document.querySelector("head").appendChild(i),r++,setTimeout(function(e,t,r,n){e(e,t,r,n)},100,e,t,r,n)};r(r,e,0,function(e){raiz.essentials.loop(function(e,t){var r=0;for(var n in e)for(var a in RaizComponents.prototype.downloadedComponents)RaizComponents.prototype.downloadedComponents[a].target==e[n]&&r++;if(e.length==r)return t&&t(),!1},1e3,e,t)})},RaizEvents.prototype.createDomMember=function(e,t,r,n){var a=!1;if(null==r)return!1;var i=[e];try{i=t.querySelectorAll("["+n.nodeName+'="'+n.nodeValue+'"]'),a=!0}catch(e){}if(0==a)try{i=t.querySelectorAll("#"+n.nodeValue),a=!0}catch(e){}if(0==a)try{i=t.querySelectorAll("."+n.nodeValue),a=!0}catch(e){}if(0==a)try{i=t.querySelectorAll(n.nodeValue),a=!0}catch(e){}if(void 0===r["#"+n.nodeValue]&&(r["#"+n.nodeValue]=function(){}),r["#"+n.nodeValue].dom=i,void 0===r["."+n.nodeValue]&&(r["."+n.nodeValue]=function(){},r["."+n.nodeValue].dom=i),void 0===r["["+n.nodeName+'="'+n.nodeValue+'"]']){var o=r["."+n.nodeValue]||r["#"+n.nodeValue]||function(){};r["["+n.nodeName+'="'+n.nodeValue+'"]']=o,r["["+n.nodeName+'="'+n.nodeValue+'"]'].dom=i}if(void 0===r["["+n.nodeName+"='"+n.nodeValue+"']"]){o=r["."+n.nodeValue]||r["#"+n.nodeValue]||function(){};r["["+n.nodeName+"='"+n.nodeValue+"']"]=o,r["["+n.nodeName+"='"+n.nodeValue+"']"].dom=i}if(void 0===r["["+n.nodeName+"="+n.nodeValue+"]"]){o=r["."+n.nodeValue]||r["#"+n.nodeValue]||function(){};r["["+n.nodeName+"="+n.nodeValue+"]"]=o,r["["+n.nodeName+"="+n.nodeValue+"]"].dom=i}},RaizEvents.prototype.tagEventAction=function(){for(var raizIfrAll=document.querySelectorAll("[raiz-event-click],[raiz-event-dblclick],[raiz-event-mousemove],[raiz-event-mouseout],[raiz-event-mouseleave],[raiz-event-keyup],[raiz-event-keydown],[raiz-event-keypress]"),i=0;i<raizIfrAll.length;i++){var el=raizIfrAll[i];if(!0!==el.raizEventInit){el.raizEventInit=!0;var attrValue_click=el.getAttribute("raiz-event-click"),classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue_click=attrValue_click.replace(/this\./g,classEvent+"."),attrValue_click=attrValue_click.replace(/self\./g,classEvent+"."));var attrValue_dblclick=el.getAttribute("raiz-event-dblclick")||"",classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue_dblclick=attrValue_dblclick.replace(/this\./g,classEvent+"."),attrValue_dblclick=attrValue_dblclick.replace(/self\./g,classEvent+"."));var attrValue_mousemove=el.getAttribute("raiz-event-mousemove")||"",classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue_mousemove=attrValue_mousemove.replace(/this\./g,classEvent+"."),attrValue_mousemove=attrValue_mousemove.replace(/self\./g,classEvent+"."));var attrValue_mouseout=el.getAttribute("raiz-event-mouseout")||"",classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue_mouseout=attrValue_mouseout.replace(/this\./g,classEvent+"."),attrValue_mouseout=attrValue_mouseout.replace(/self\./g,classEvent+"."));var attrValue_mouseleave=el.getAttribute("raiz-event-mouseleave")||"",classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue_mouseleave=attrValue_mouseleave.replace(/this\./g,classEvent+"."),attrValue_mouseleave=attrValue_mouseleave.replace(/self\./g,classEvent+"."));var attrValue_keyup=el.getAttribute("raiz-event-keyup")||"",classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue_keyup=attrValue_keyup.replace(/this\./g,classEvent+"."),attrValue_keyup=attrValue_keyup.replace(/self\./g,classEvent+"."));var attrValue_keydown=el.getAttribute("raiz-event-keydown")||"",classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue_keydown=attrValue_keydown.replace(/this\./g,classEvent+"."),attrValue_keydown=attrValue_keydown.replace(/self\./g,classEvent+"."));var attrValue_keypress=el.getAttribute("raiz-event-keypress")||"",classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue_keypress=attrValue_keypress.replace(/this\./g,classEvent+"."),attrValue_keypress=attrValue_keypress.replace(/self\./g,classEvent+"."));var eventArray=["click","dblclick","mousemove","mouseout","mouseleave","keyup","keydown","keypress"];for(var key in eventArray){var event=eventArray[key],action="attrValue_"+event+";",action=eval(action);raiz.essentials.addEvent(el,event,function(event,action,eventType,element){try{var action=eval(action)}catch(e){try{var action=eval("("+action+")(this,event);")}catch(e){action=action.replace("+",""),action=action.replace("-","");var action=eval("("+action+");")}!1===action&&event.preventDefault()}return action},null,action,event,el)}}}setTimeout(function(){RaizEvents.prototype.tagEventAction()},500)},RaizEvents.prototype.tagEvent=function(){for(var raizIfrAll=document.querySelectorAll("[raiz-event]"),i=0;i<raizIfrAll.length;i++){var el=raizIfrAll[i];if(!0!==el.raizEventInit){el.raizEventInit=!0;var attrValue=el.getAttribute("raiz-event"),classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue=attrValue.replace(/this\./g,classEvent+"."),attrValue=attrValue.replace(/self\./g,classEvent+"."));try{var val=eval(attrValue)}catch(e){return el.raizEventInit=!1,setTimeout(function(){RaizEvents.prototype.tagEvent()},300),!1}if(null==val)return el.raizEventInit=!1,!1;if("object"==typeof val)var valFor=val;else var valFor=val();for(var key in valFor){var ev=valFor[key];key=key.replace(","," "),raiz.essentials.addEvent(el,key,function(e,t){return $return=t.call(this,e),!1===$return&&e.preventDefault(),$return},null,ev)}}}setTimeout(function(){RaizEvents.prototype.tagEvent()},500)};var RaizComponent={},RaizComponents=function e(){this.name="components",this.config={dir:""},this.container=null,this.count=0,this.guard=[];var t=document.createElement("style");t.innerHTML="raiz-component{visibility:hidden}",document.querySelector("head").appendChild(t),raiz.essentials.addEvent(window,"load",function(){e.prototype.appendSettings()})};raiz.attachModule(RaizComponents),RaizComponents.prototype.appendSettings=function(){null==raiz.settings.data.components&&(raiz.settings.data.components={}),!1===raiz.settings.data.components.cache&&RaizComponents.prototype.clearDownloaded(),RaizComponents.prototype.init()},RaizComponents.prototype.loadPackageController=function(componentName,componentVersion,container,body,inner,callback,modePackageInline){null==modePackageInline&&(modePackageInline=!1);var classNameAdd=componentName;classNameAdd=classNameAdd.replace(/\/\//g,"/"),classNameAdd=classNameAdd.replace(/\//g,"_");var classNameAddOriginal=classNameAdd,classNameAddVar=classNameAdd.replace("-","_");classNameAdd=classNameAdd.replace("-","_");var componentVersionCss="";""!=componentVersion&&container.setAttribute("version",componentVersion),container.classList.add(""+classNameAddOriginal),null==body&&(body=""),null==inner&&(inner=""),body=body.replace(/\n/g,""),body=body.replace(/\'/g,"\\'");var timestamp=container.raiz.component.index,raizControllerDefault=container.getAttribute("raiz-controller");if(null!=raizControllerDefault)try{var raizControllerDefault=raizControllerDefault.replace(".","_");eval(raizControllerDefault+" = Controller ;"),eval("var currentController = "+raizControllerDefault+";"),null==currentController.container&&(currentController.container=container);var bodyElement=document.createElement("raiz-component");bodyElement.innerHTML=body;for(var i=0;i<container.attributes.length;i++)bodyElement.setAttribute(container.attributes[i].name,container.attributes[i].value);""!=body&&(currentController.body={html:body,text:inner,element:bodyElement});var funcAttr=function(e,t){var r={},n=t.attributes,a=0;for(var i in n)if(-1!==String(n[i].name).indexOf("attr-")){var o=String(n[i].name);attrNameArray=o.split("-"),r[o=attrNameArray[1]]=n[i].value,a++}0<a&&(e.attr=r)};funcAttr(currentController,container),raiz.essentials.time(function(e,t){funcAttr(e,t)},currentController,container),eval(raizControllerDefault+" = currentController;"),eval(classNameAdd+" = currentController;")}catch(e){}else{try{eval("component_"+classNameAdd+"_"+timestamp+" = Controller;")}catch(e){eval("component_"+classNameAdd+"_"+timestamp+" = (function(){function Controller() {return this;}return new Controller();})(); ")}try{null==Controller&&eval("component_"+classNameAdd+"_"+timestamp+" = (function(){function Controller() {return this;}return new Controller();})(); ")}catch(e){}if(eval("var currentController = component_"+classNameAdd+"_"+timestamp+";"),null==currentController.container&&(currentController.container=container),!1===modePackageInline)var raizController=container.setAttribute("raiz-controller","component_"+classNameAdd+"_"+timestamp);var bodyElement=document.createElement("raiz-component");bodyElement.innerHTML=body;for(var i=0;i<container.attributes.length;i++)bodyElement.setAttribute(container.attributes[i].name,container.attributes[i].value);""!=body&&(currentController.body={html:body,text:inner,element:bodyElement});var funcAttr=function(e,t){var r={},n=t.attributes,a=0;for(var i in n)if(-1!==String(n[i].name).indexOf("attr-")){var o=String(n[i].name);attrNameArray=o.split("-"),r[o=attrNameArray[1]]=n[i].value,a++}0<a&&(e.attr=r)};funcAttr(currentController,container),raiz.essentials.time(function(e,t){funcAttr(e,t)},currentController,container),eval("component_"+classNameAdd+"_"+timestamp+" = currentController;"),eval(classNameAdd+" = currentController;")}eval("Controller = null;"),null!==currentController&&void 0!==currentController.construct&&(currentController.constructInit=!0,setTimeout(function(e,t,r){RaizEssentials.prototype.filterMethodsEvents(e),e.controller={name:e.container.getAttribute("raiz-controller")},e.construct(t)},300,currentController,container,classNameAdd)),callback&&callback()},RaizComponents.prototype.init=function(){var e=function(e,t,r,n){var a=t[r];if(null==a)return n&&n(),!1;if(null==a.raiz&&(a.raiz={}),void 0===a.raiz.component){a.raiz.component={},a.raiz.component.init=!0,a.raiz.component.index=r;a.getAttribute("disabled");if("raiz-component-package"==a.nodeName.toLowerCase()){var i=a.innerHTML,o=a.textContent,l=u=a.getAttribute("name")||"comp_"+(new Date).getTime(),s=RaizComponents.prototype.getIdsPackage(u,a),c=s.version,u=s.name;s.url;return componentNameDownload=""!=c?u+"#"+c:u,RaizComponents.prototype.downloadedComponents[componentNameDownload]={name:u,version:c,target:l,data:i},!0===raiz.settings.data.components.cache&&RaizComponents.prototype.saveDownloaded(RaizComponents.prototype.downloadedComponents),RaizComponents.prototype.loadPackageController(u,c,a,i,o,function(){r++,setTimeout(function(e,t,r,n){e(e,t,r,n)},0,e,t,r,n)},!0),!1}RaizComponents.prototype.loadComponent(a,function(){r++,setTimeout(function(e,t,r,n){e(e,t,r,n)},0,e,t,r,n)})}else r++,setTimeout(function(e,t,r,n){e(e,t,r,n)},0,e,t,r,n)};e(e,document.querySelectorAll("[raiz-component],raiz-component,raiz-component-package"),0,function(){setTimeout(function(){RaizComponents.prototype.init()},0)})},RaizComponents.prototype.replaces=function(e,t){var r=e.substr(0,e.lastIndexOf("/"))+"";return t=t.replace(/{component-url}/g,r)},RaizComponents.prototype.getIdsPackage=function(componentName,element){var componentNameOriginal=componentName;if(null==componentName)return!1;if(-1!=componentName.indexOf("::"))var componentNameArray=componentName.split("::");else var componentNameArray=["app/components",componentName];var componentDir=componentNameArray[0];if(componentName=componentNameArray[1]||null,"{{"==componentDir.substr(0,2)){componentDir=componentDir.trim();var classEvent=raiz.getClassEvent(element.parentNode);componentDir=componentDir.replace("this.",classEvent+"."),componentDir=componentDir.replace("self.",classEvent+"."),componentDir=componentDir.replace("{{",""),componentDir=componentDir.replace("}}",""),componentDir=eval(componentDir)}"$"==componentDir.substr(0,1)&&(componentDir=componentDir.substr(1),componentDir=eval(componentDir)),"@raiz"==componentDir?componentDir="https://raiz.wallrio.com/component":"@raiz-github"==componentDir&&(componentDir="https://rawgit.com/raizjs/components/master");var componentVersion="";if(-1!==componentName.indexOf("#")){var componentNameArray=componentName.split("#");componentName=componentNameArray[0],componentVersion=componentNameArray[1],componentDir=componentDir+"/"+componentName+"/version/"+componentVersion;var urlPackage="/package.html"}else var urlPackage="/"+componentName+"/package.html";return urlPackage=componentDir+String("/"+urlPackage).replace("//","/"),{name:componentName,version:componentVersion,url:urlPackage}},RaizComponents.prototype.downloadedComponents={},RaizComponents.prototype.count=0,RaizComponents.prototype.loadComponent=function(e,t){var r=e.getAttribute("raiz-component");if(null==r||null==r)var n=e.getAttribute("name");else n=e.getAttribute("raiz-component");null==n&&(n="comp_"+(new Date).getTime());var l,a,i,o,s,c,u,p=n,d=RaizComponents.prototype.getIdsPackage(n,e),m=d.version,v=(n=d.name,d.url);l=p,s=e,c=function(e){e.style.visibility="visible",t&&t()},u=function(e){var t=a.substr(0,a.lastIndexOf("/"))+"";e=e.replace(/{component-url}/g,t);var r=s.innerHTML,n=s.textContent;e=e.replace(/{component-name}/g,i),"LINK"==s.tagName?document.querySelector("head").appendWithoutHTML(e,function(){RaizComponents.prototype.loadPackageController(i,o,s,r,n)},s):s.htmlTemplate(e,function(e){RaizComponents.prototype.loadPackageController(i,o,this,r,n)},!1),c&&c(s)},function(e,t,r,n,a){if(componentNameDownload=""!=e?t+"#"+e:t,void 0!==raiz.settings.data.components&&!0===raiz.settings.data.components.cache){var i=RaizComponents.prototype.loadDownloaded();null!=i&&(RaizComponents.prototype.downloadedComponents=i)}if(void 0!==RaizComponents.prototype.downloadedComponents[componentNameDownload]){var o=RaizComponents.prototype.downloadedComponents[componentNameDownload].data;return u(o)}RaizComponents.prototype.downloadedComponents[componentNameDownload]={name:t,version:e,target:l},void 0!==raiz.settings.data.components&&!1===raiz.settings.data.components.cache&&(r=r+"?"+(new Date).getTime()),raiz.essentials.ajax({url:r,method:"get",success:function(e){RaizComponents.prototype.downloadedComponents[componentNameDownload].data=e,void 0!==raiz.settings.data.components&&!0===raiz.settings.data.components.cache&&RaizComponents.prototype.saveDownloaded(RaizComponents.prototype.downloadedComponents),u(e)},error:function(e){console.log("Component not Found: ["+r+"] application sequence stopped")}})}(o=m,i=n,a=v)},RaizComponents.prototype.saveDownloaded=function(e){if("undefined"==typeof localStorage)return!1;var t=RaizComponents.prototype.loadDownloaded(),r={};for(var n in t)r[n]=t[n];for(var n in e)r[n]=e[n];localStorage.setItem("raiz-component",JSON.stringify(r))},RaizComponents.prototype.loadDownloaded=function(){if("undefined"==typeof localStorage)return{};var e=localStorage.getItem("raiz-component");return JSON.parse(e)},RaizComponents.prototype.clearDownloaded=function(){if("undefined"==typeof localStorage)return!1;localStorage.removeItem("raiz-component")};var RaizBind=function e(){this.name="bind",raiz.essentials.addEvent(window,"load",function(){e.prototype.init()})};raiz.attachModule(RaizBind),RaizBind.prototype.init=function(){for(var raizIfrAll=document.querySelectorAll("[raiz-bind]"),i=0;i<raizIfrAll.length;i++){var el=raizIfrAll[i];null==el.raiz&&(el.raiz={}),null==el.raiz.bind&&(el.raiz.bind={});var attrValue=el.getAttribute("raiz-bind");if(1!=el.raiz.bind.init){var loop=function(loop,el){el.raiz.bind.init=!0;try{el.raiz.bind.reference=el.raiz.attr["raiz-bind"].reference}catch(e){}var attrValue=el.raiz.bind.reference||"",classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue=attrValue.replace(/this\./g,classEvent+"."),attrValue=attrValue.replace(/self\./g,classEvent+".")),attrValue=attrValue.replace(/\{\{/g,""),attrValue=attrValue.replace(/\}\}/g,"");var isFocused=document.activeElement===el;if(!isFocused)try{var val=eval(attrValue);void 0===el.value?el.innerHTML!==val&&null!=val&&(el.innerHTML=val):el.value!==val&&null!=val&&(el.value=val)}catch(e){}setTimeout(function(){loop(loop,el)},100)};if(loop(loop,el),"INPUT"==el.tagName)var eventType="input";else if("INPUT"==el.tagName)var eventType="change keyup";else var eventType="change keyup";raiz.essentials.addEvent(el,eventType,function(obj,attrValue){var isFocused=document.activeElement===this;if(isFocused){if(void 0!==this.value)var text=this.value;else var text=this.innerHTML;text=text.replace(/\"/g,'\\"');var reference=this.raiz.bind.reference;reference=reference.replace(/\{\{/,""),reference=reference.replace(/\}\}/,"");var classEvent=raiz.getClassEvent(this.parentNode);!1!==classEvent&&(reference=reference.replace(/this\./g,classEvent+"."),reference=reference.replace(/self\./g,classEvent+".")),eval(reference+'="'+text+'";')}},null,attrValue)}}setTimeout(function(){RaizBind.prototype.init()},100)};var RaizObserver=function(){var s=this;return this.name="observer",this.listObserver=[],raiz.observer=function(e,t){var r=function(e){var t,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r};t(e());var o={hash:r(e.toString()),target:e,callback:t},n=s.listObserver.length,a=!0;for(var i in s.listObserver)s.listObserver[i].hash===r(e.toString())&&(a=!1);1==a&&(s.listObserver[n]=o);var l=function(t,e){var r=o.target||null,n=(o.attr,o.callback||null),a=r();if(o.condition!==a){var i=o.condition;o.condition=a,null!=i&&n&&n.call(a,o.condition)}setTimeout(function(e){t(t,e)},0,e)};l(l,s.listObserver)},this};raiz.attachModule(RaizObserver);var RaizImport=function e(){this.name="import",raiz.essentials.addEvent(window,"load",function(){e.prototype.init()})};raiz.attachModule(RaizImport),RaizImport.prototype.init=function(){var e=function(e,t,r,n){if(null==t[r]||null==t[r])return n&&n(),!1;var a=t[r],i=a.getAttribute("raiz-import");null==a.raiz&&(a.raiz={}),null==a.raiz.import&&(a.raiz.import={url:i},raiz.essentials.ajax({url:i,success:function(e){a.html(e)}}),setTimeout(function(e,t,r,n){e(e,t,r+1,n)},10,e,t,r,n))};e(e,document.querySelectorAll("[raiz-import]"),0,function(){}),setTimeout(function(){RaizImport.prototype.init()},0)};