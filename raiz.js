/**
 * Raiz v0.2.0 @ 2018/07/11
 * License: MIT
 * Author: Wallace Rio (http://wallrio.com)
 */

var Raiz=function r(e){this.version="0.2.0",this.config={domain:""},this.attachModule=function(e){var t=new e;r.prototype[t.name]=t},r.prototype.featureDOM(),r.prototype.init(),r.prototype.monitorUrl()};Raiz.prototype.timestep=function(e){var t=arguments,r=[],n=0;for(var a in t)0<a&&(r[n]=t[a],n++);window.requestAnimationFrame(function(){e&&e.apply(this,r)})},Raiz.prototype.init=function(e){var t=function(e){var t=document.querySelector("html");if(null!=t||null!=t)return void 0!==t.getAttribute("raiz-controller")&&null!==t.getAttribute("raiz-controller")||t.setAttribute("raiz-controller",""),!1;setTimeout(function(e){e(e)},0,e)};t(t)},Raiz.prototype.monitorUrl=function(e){var t=window.location.href;if(null==Raiz.prototype.monitorUrl.callback&&(Raiz.prototype.monitorUrl.callback=Array()),null!=e){var r=Raiz.prototype.monitorUrl.callback.length;(Raiz.prototype.monitorUrl.callback[r]=e)()}if(void 0===Raiz.prototype.monitorUrl.saved||Raiz.prototype.monitorUrl.saved!=t){Raiz.prototype.monitorUrl.saved=t;for(var n=0;n<Raiz.prototype.monitorUrl.callback.length;n++){(0,Raiz.prototype.monitorUrl.callback[n])()}}return null!=e||(setTimeout(function(){Raiz.prototype.monitorUrl()},200),!1)},Raiz.prototype.loopList=[],Raiz.prototype.loop=function(){var e=arguments[0],t=arguments[1],r=[],n=0;for(var a in arguments)1<a&&(r[n]=arguments[a],n++);var i=Raiz.prototype.loopList.length;Raiz.prototype.loopList[i]=function(e,t,r,n,arguments){try{t&&t.apply(arguments,n)}catch(e){}setTimeout(function(e,t,r,n,arguments){Raiz.prototype.loopList[e](e,t,r,n,arguments)},r,e,t,r,n,arguments)},Raiz.prototype.loopList[i](i,e,t,r,arguments)},Raiz.prototype.loop2=function(e){if(null==Raiz.prototype.loop.list&&(Raiz.prototype.loop.list=[]),null!=e){var t=Raiz.prototype.loop.list.length;void 0===Raiz.prototype.loop.list[t]&&(Raiz.prototype.loop.list[t]={}),Raiz.prototype.loop.list[t].callback=e,Raiz.prototype.loop.list[t].arguments=arguments}var r=function(e,t,r,n){if(null===r&&(r=0),void 0===t[r]){if(n)n(t,{goList:e,listArray:t,index:r,callbackInner:n});return!1}var a=t[r].callback,i=t[r].arguments,o=[],l=0;for(var c in i)0<c&&(o[l]=i[c],l++);a&&a.apply(t[r],o),e(e,t,Number(r)+1,n)};r(r,Raiz.prototype.loop.list,0,function(e,t){t.goList,t.listArray,t.index,t.callbackInner;setTimeout(function(){raiz.loop()},320)})},Raiz.prototype.getClassEvent=function(e){return null!=e&&(null===e.getAttribute("data-raiz-controller")&&null===e.getAttribute("raiz-controller")?"HTML"!=e.tagName&&Raiz.prototype.getClassEvent(e.parentNode):null!==e.getAttribute("data-raiz-controller")?e.getAttribute("data-raiz-controller"):null!==e.getAttribute("raiz-controller")?e.getAttribute("raiz-controller"):void 0)},Raiz.prototype.getElementParentByAttr=function(e,t){return null!=e&&(null===e.getAttribute("data-"+t)&&null===e.getAttribute(t)?"HTML"!=e.tagName&&Raiz.prototype.getElementParentByAttr(e.parentNode,t):null!==e.getAttribute("data-"+t)?e.getAttribute("data-"+t):null!==e.getAttribute(t)?e.getAttribute(t):void 0)},Raiz.prototype.extend=function(e,t){null==t.length&&(t=[t]);var r=function(e,t,r,n){if(null==r[n])return!1;if("function"==typeof r[n])t=Raiz.prototype.extendEffect(t,r[n]());else t=Raiz.prototype.extendEffect(t,r[n]);e(e,t,r,n+1)};r(r,e,t,0)},Raiz.prototype.extendEffect=function(objectMain,listObjects){var typeMain=null;for(var i in"function"==typeof objectMain&&(eval(objectMain.name+" = "+objectMain.name+"();"),typeMain="function"),listObjects)listObjects.hasOwnProperty(i)&&("object"==typeof objectMain[i]&&objectMain.hasOwnProperty(i)&&null!=objectMain[i]?Raiz.prototype.extend(listObjects[i]):"function"==typeMain?eval(objectMain.name+'["'+i+'"] = listObjects["'+i+'"]'):objectMain[i]=listObjects[i]);return eval("objectMain = "+objectMain.name),objectMain},Raiz.prototype.require=function(o,e){var t=function(e,t,r,n){if(null==t[r])return n&&n(),!1;var a=t[r],i=document.createElement("script");i.src=a,i.onload=function(){e(e,o,r+1,n)},i.onerror=function(){e(e,o,r+1,n)},document.querySelector("head").appendChild(i)};t(t,o,0,e)},Raiz.prototype.ifExist=function(variable,callback){try{var variableNew=eval(variable);if(null!=variableNew){var newArg=[],index=0;for(var key in arguments)1<key&&(newArg[index]=arguments[key],index++);return setTimeout(function(e,t,r){e&&e.apply(t,r)},100,callback,variableNew,newArg),!1}}catch(e){}if(null!=variableNew)return!1;setTimeout(function(e,t){Raiz.prototype.ifExist(e,t)},100,variable,callback)},Raiz.prototype.walkDom=function(e,t,r){void 0===e&&(e=document.querySelector("html")),"string"==typeof e&&(e=document.querySelector(e));var n=t.element||null,a=function(e,t,r,n,a,i){if(void 0===t[r])return i&&i(a),!1;var o=t[r];void 0!==o.tagName&&n&&n.call(o,a),r++,setTimeout(function(e,t,r,n,a,i){e(e,t,r,n,a,i)},1,e,t,r,n,a,i)};a(a,e.querySelectorAll("[id],[name],[class]"),0,n,e,function(e){r&&r(e)})},Raiz.prototype.walkElement=function(e,t,r){void 0===e&&(e=document.querySelector("html")),"string"==typeof e&&(e=document.querySelector(e));var l=e.getElementsByTagName("*"),n=function(r,n,a,i,e){if(null==l[e])return i&&i(),!1;var t=n[e];if(void 0!==t.tagName){var o=String(t.tagName).toLowerCase();void 0!==a[o]&&"function"==typeof a[o]&&a[o].call(t,function(e,t){r(r,n,a,i,t+1)},e)}};n(n,l,t,r,0)},Raiz.prototype.append=function(n,e,t){var r=document.createElement("div");r.innerHTML=e;r.querySelectorAll("script"),r.querySelectorAll("style"),r.querySelectorAll("link");Raiz.prototype.walkElement(r,{script:function(e,t){if("text/view"===String(this.type).toLowerCase())return e&&e(this,t),!1;var r=document.createElement("script");this.src?(r.src=this.src,r.onerror=function(){e&&e(this,t)},r.onload=function(){e&&e(this,t)},n.appendChild(r)):(r.innerHTML=this.innerHTML,n.appendChild(r),e&&e(this,t))},style:function(e,t){var r=document.createElement("style");r.innerHTML=this.innerHTML,setTimeout(function(){n.appendChild(r)}),e&&e(this,t)},link:function(e,t){var r=document.createElement("link");r.href=this.href,r.rel=this.rel,r.onerror=function(){e&&e(this,t)},r.onload=function(){e&&e(this,t)},n.appendChild(r)}},function(){t&&t(n,r,e)})},Raiz.prototype.featureDOM=function(){HTMLElement.prototype.appendWithoutHTML=function(e,t){Raiz.prototype.append(this,e,function(){t&&t(e)})},HTMLElement.prototype.htmlTemplate=function(e,i,t,r){if(null==e)return this.innerHTML;var o=this;document.querySelector("head");Raiz.prototype.append(this,e,function(e,t,r){var n=document.createElement("div");n.innerHTML=r;var a=n.querySelector('script[type="text/view"]');null!=a&&(o.innerHTML=a.innerHTML),i&&i.call(o,r)})},HTMLElement.prototype.html=function(r,n){if(null==r)return this.innerHTML;this.innerHTML=r,Raiz.prototype.append(this,r,function(e,t){n&&n(r)})}};var raiz=new Raiz,RaizEssentials=function(){function RaizEssentials(){this.name="essentials"}return RaizEssentials.prototype.checkJson=function(e){return!!/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},RaizEssentials.prototype.time=function(e){window.requestAnimationFrame(function(){e&&e(),RaizEssentials.prototype.time(e)})},RaizEssentials.prototype.stringToObject=function(sJson){null==sJson&&(sJson="");try{eval("var obj={"+sJson+"}")}catch(e){}return obj},RaizEssentials.prototype.ajax=function(e){var t=e.url||null,r=e.success||null,n=e.error||null,a=e.progress||null,i=e.data||null,o=e.method||"get";if(!1===e.async)var l=!1;else l=!0;var c,u=function(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml3.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return null}();"get"==o.toLowerCase()&&null!=i&&(t=t+"?"+(c=i,""+Object.keys(c).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(c[e])}).join("&"))),u.open(o,t,l),u.upload&&(u.upload.onprogress=function(e){e.lengthComputable&&a&&a(e.loaded,e.total)},u.upload.onloadstart=function(e){a&&a(0,e.total)},u.upload.onloadend=function(e){a&&a(e.loaded,e.total)},u.upload.onprogress=function(e){if(e.lengthComputable)Math.floor(e.loaded/e.total*100)}),u.onreadystatechange=function(){if(3<u.readyState){if(404===u.status)return n&&n(u.responseText),!1;r&&r(u.responseText)}};var s=new FormData;for(var p in i)i.hasOwnProperty(p)&&s.append(p,i[p]);o.toLowerCase(),u.send(s)},RaizEssentials.prototype.addEvent=function(e,t,o,r,n,a,i){var l=t.split(" "),c=arguments,u=function(e,t,r){null==t&&(t=!0);var n=e;null==n&&(n=window),nArgs_reindex=[];nArgs_reindex[0]=!1;for(var a=0;a<r.length;a++)3<a&&(nArgs_reindex[nArgs_reindex.length]=r[a]);if(n.addEventListener)for(a=0;a<l.length;a++){var i=l[a];!function(t,r,n,e,a){r.addEventListener(a,function(e){if(t[0]=e,n)return n.apply(r,t)},e)}(nArgs_reindex,n,o,t,i)}else if(n.attachEvent)for(a=0;a<l.length;a++){i=l[a];n.attachEvent("on"+i,function(e){if(nArgs_reindex[0]=e,o)return o.call(n,nArgs_reindex)})}};if("string"!=typeof e)u(e,r,c);else for(var s=document.querySelectorAll(e),p=0;p<s.length;p++){var d=s[p];u(d,r,c)}},RaizEssentials}();raiz.attachModule(RaizEssentials);var RaizInterpolation=function e(){this.name="interpolation",this.interpolationRegex=/({{[\s\S]*?}})/gim,this.signalConvertInterpolation=">>>",this.filterList={},this.filter=function(e,t){this.filterList[e]={},this.filterList[e].method=t},raiz.essentials.addEvent(window,"load",function(){raiz.loop(function(){e.prototype.monitor()},100)})};raiz.attachModule(RaizInterpolation),RaizInterpolation.prototype.monitor=function(e,t){RaizInterpolation.prototype.prepareVirtualContent(function(){})},RaizInterpolation.prototype.goDom=function(e,t){void 0===e&&(e=document.querySelector("html")),"string"==typeof e&&(e=document.querySelector(e));var r=t.text||null,n=t.element||null,a=e.getElementsByTagName("*");for(var i in a){var o=a[i];if(null!=o.childNodes&&0<o.childNodes.length)for(var l in o.childNodes){var c=o.childNodes[l];"#text"==c.nodeName?n&&r.call(c):"#comment"==c.nodeName?n&&r.call(c):void 0!==c.nodeName&&n&&n.call(c)}}},RaizInterpolation.prototype.prepareVirtualContent=function(e){var t=document.querySelectorAll("[data-raiz-controller],[raiz-controller]");if(0<t.length)for(var r=0;r<t.length;r++){var n=t[r];RaizInterpolation.prototype.goDom(n,{text:function(){RaizInterpolation.prototype.initRaizText(this)},element:function(){RaizInterpolation.prototype.initRaizElement(this)}})}e&&e()},RaizInterpolation.prototype.initRaizElement=function(l){if(null==l.raiz&&(l.raiz={}),!1!==raiz.getElementParentByAttr(l.parentNode,"no-interpolation"))return!1;l.raiz.status="initialized";for(var e in l.attributes){if("object"==typeof(i=l.attributes[e])&&(/({{[\s\S]*?}})/g.test(i.nodeValue)||/({{[\s\S]*?}})/g.test(i.nodeName))){if(null==l.raiz&&(l.raiz={}),null==l.raiz.attr&&(l.raiz.attr={}),!0,null!=l.raiz.attr[i.nodeName])continue;l.raiz.attr[i.nodeName]={};var t=RaizInterpolation.prototype.setupInterpolation(l,i.nodeValue);l.raiz.attr[i.nodeName].name=i.nodeName,l.raiz.attr[i.nodeName].nameReal=i.nodeName;var r=i.nodeValue;l.raiz.attr[i.nodeName].reference=r,l.raiz.attr[i.nodeName].value=i.nodeValue,l.raiz.attr[i.nodeName].attrNode=e,l.raiz.attr[i.nodeName].setup=t}}for(var n in l.raiz.attr){var a=n,i=l.raiz.attr[n].value;if(!0!==l.raiz.attr[n].init){l.raiz.attr[n].init=!0;var o=function(o,e,t,r,n){RaizInterpolation.prototype.changeAttr(e,t,r,n,function(e,t,r,n){var a=l.raiz.attr[t].setup,i=a.config.delay;!1!==a.config.loop&&setTimeout(function(e,t,r,n,a){e(e,t,r,n,a)},i,o,e,t,r,n)})};/({{[\s\S]*?}})/g.test(i)&&o(o,l,a,i,"value"),/({{[\s\S]*?}})/g.test(a)&&o(o,l,a,i,"name")}}},RaizInterpolation.prototype.changeAttr=function(a,e,t,r,n){a.raiz.attr[e].setup,a.raiz.attr[e].attrNode;if("value"==r)var i=a.raiz.attr[e].value;else i=a.raiz.attr[e].name;if(/({{[\s\S]*?}})/gim.test(i)&&(result=i.replace(/({{[\s\S]*?}})/gim,function(e,t,r,n){return RaizInterpolation.prototype.calc(a,a,e,null).content}),/({{[\s\S]*?}})/gim.test(i)))if("value"==r){if(a[e]!=result&&(a[e]=result),a.getAttribute(e)!=result)try{a.setAttribute(e,result)}catch(e){}}else for(var o in a.raiz.attr){e=o,t=a.raiz.attr[o].value;if(a.raiz.attr[e].nameReal!=result){var l=String(a.raiz.attr[e].nameReal).toLowerCase();a.removeAttribute(l),a.raiz.attr[e].nameReal=result,a.setAttribute(result,t)}}n&&n(a,e,t,r)},RaizInterpolation.prototype.initRaizText=function(e){if(null!=e.raiz)return!1;var t=e.nodeValue;if("#comment"==e.nodeName)var r=/(^ *?{{[\s\S]*?}} *?$)/g;else r=/({{[\s\S]*?}})/g;if(r.test(t)){if(!1!==raiz.getElementParentByAttr(e.parentNode,"no-interpolation"))return!1;e.raiz={},e.raiz.reference=t,e.raiz.status="initialized",e.raiz.type=e.nodeName;var n=t.match(/({{[\s\S]*?}})/g);if(0<n.length){var a=(t=t.replace(/({{[\s\S]*?}})/g,function(e,t,r,n){return"###"})).split("###"),i=(e.parentNode,0);for(var o in a){var l=a[o],c=document.createTextNode(l);if(null!=e.parentNode&&e.parentNode.insertBefore(c,e),!(i>=n.length)){l=n[i],c=document.createTextNode(l);if(null!==l){if(!1!==raiz.getElementParentByAttr(e.parentNode,"no-interpolation"))return!1;c.raiz={},c.raiz.reference=l,c.raiz.status="initialized",c.raiz.type=c.nodeName;var u=RaizInterpolation.prototype.setupInterpolation(c,l);c.raiz.setup=u}var s=function(n,e,t){RaizInterpolation.prototype.changeContent(e,t,function(e,t){var r=e.raiz.setup.config.delay;!1!==e.raiz.setup.config.loop&&window.requestAnimationFrame(function(){setTimeout(function(e,t,r){e(e,t,r)},r,n,e,t)})})};s(s,c,e),null!=e.parentNode&&e.parentNode.insertBefore(c,e),i++}}null!=e.parentNode&&e.parentNode.removeChild(e)}}},RaizInterpolation.prototype.setupInterpolation=function(e,t){var r=(a=(t=(t=(t=(t=t.replace(/\<\!\-\-\{\{/gi,"")).replace(/\}\}\-\-\>/gi,"")).replace(/\{\{/gi,"")).replace(/\}\}/gi,"")).split("@@@"))[0];if(void 0!==(n=a[1])){n=n.trim();var n=raiz.essentials.stringToObject(n)}else n={delay:50,loop:!0};r=(a=r.split(raiz.interpolation.signalConvertInterpolation))[0];var a,i=a[1];i=null!=i&&i.trim();var o=/^ *?__.*?__ *?$/gi.test(r);!0===o&&(o=r);var l=r,c=raiz.getClassEvent(e.parentNode);return!1!==c&&(l=l.replace(/this\./gi,c+".")),{reference:l,config:n,snippet:i,reservedMethod:o}},RaizInterpolation.prototype.changeContent=function(g,b,e){var t=g.raiz.reference;/({{[\s\S]*?}})/g.test(t)&&(result=t.replace(/({{[\s\S]*?}})/g,function(e,t,r,n){if(!1!==raiz.getElementParentByAttr(b.parentNode,"no-interpolation"))return!1;if(!1!==raiz.getElementParentByAttr(g.parentNode,"no-interpolation"))return!1;var a=RaizInterpolation.prototype.calc(g,b,e,function(e,t,r,n,a,i,o){if("filter"!==i)return!1;var l=e.raiz.reference;e.raiz.reference="";l=l.replace(a,r);if(null==e.innerHTML){if(e.textContent!=l){var c=e.raiz.reference,u=document.createElement("span");u.innerHTML=l,u.setAttribute("raiz-node-filter","element"),u.raiz={},u.raiz.reference=c,u.raiz.status="success",u.raiz.setup=t;for(var s=!1,p=u.childNodes,d=0;d<p.length;d++)"#text"!=p[d].nodeName&&(s=!0);1==s?(document.createElement("span"),o.tagName,o.insertBefore(u,e.firstChild)):(e.raiz.status="success",e.textContent=l)}}else e.raiz.content!=l&&(c=e.raiz.reference,t=RaizInterpolation.prototype.setupInterpolation(e,c),e.raiz={},e.raiz.reference=c,e.raiz.status="success",e.raiz.setup=t,e.raiz.content=l,e.innerHTML=l)});if(1==a.callback)return g.nodeValue="",!1;if("#comment"==a.type&&"error"==a.status){var i=document.createElement("div");if(null!=(d=b.parentNode)){var o=document.createComment(a.content);return o.raiz={},d.insertBefore(o,b.nextSibling),setTimeout(function(e,t){e.appendChild(t)},0,i,g),!1}}if(null==g.innerHTML){if(g.textContent!=a.content){var l=g.raiz.reference,c=document.createElement("span");c.innerHTML=a.content,c.setAttribute("raiz-node","element"),c.raiz={},c.raiz.reference=l,c.raiz.status="success",c.raiz.setup=m;for(var u=!1,s=c.childNodes,p=0;p<s.length;p++)"#text"!=s[p].nodeName&&(u=!0);if(1==u){var d;document.createElement("span");if(null==(d=b.parentNode))return!1;d.tagName,d.insertBefore(c,g.firstChild),d.removeChild(b);var m=RaizInterpolation.prototype.setupInterpolation(g,l),f=d.querySelectorAll("[raiz-node]");for(var v in f){var z=f[v];if(z.raiz={},null!=z.raiz){z.raiz.reference=l,z.raiz.status="success",z.raiz.setup=m;var y=function(n,e,t){RaizInterpolation.prototype.changeContent(e,t,function(e,t){var r=e.raiz.setup.config.delay;!1!==e.raiz.setup.config.loop&&setTimeout(function(e,t,r){e(e,t,r)},r,n,e,t)})};y(y,z,b)}}}else g.raiz.status="success",g.textContent=a.content}}else if(null!=a&&g.raiz.content!=a.content){l=g.raiz.reference,m=RaizInterpolation.prototype.setupInterpolation(g,l);g.raiz={},g.raiz.reference=l,g.raiz.status="success",g.raiz.setup=m,g.raiz.content=a.content,g.innerHTML=a.content}if("success"==g.raiz.status)return!1;var h=g.raiz.reference;/({{[\s\S]*?}})/g.test(h)&&(result=h.replace(/({{[\s\S]*?}})/g,function(e,t,r,n){RaizInterpolation.prototype.calc(g,b,e,function(e,t,r,n,a){var i=e.raiz.reference;e.raiz.reference="";i=i.replace(a,r);null==e.innerHTML?e.textContent!=i&&(e.textContent=r):e.innerHTML!=i&&(e.innerHTML=i)})}))})),e&&e(g,b)},RaizInterpolation.prototype.calc=function(element,elementReal,m,callback){null==elementReal.parentNode&&(elementReal=element);var mOriginal=m,classEvent=raiz.getElementParentByAttr(elementReal.parentNode,"raiz-controller");!1!==classEvent&&(m=m.replace(/this\./gi,classEvent+"."));var setup=RaizInterpolation.prototype.setupInterpolation(element,m);m=setup.reference;var result=null,isFunction=!1,useCallback=!1;if(!1!==setup.reservedMethod){var callbackreservedMethod=function(e,t){callback&&callback(element,setup,e,t,mOriginal)},resultReservedMethod=RaizInterpolation.prototype.reservedMethod(m,element.parentNode,callbackreservedMethod,setup);"callback"==resultReservedMethod?(useCallback=!0,result=""):result=resultReservedMethod,m=result}try{var result=eval(m);isFunction=!1}catch(e){try{isFunction=!0;var nFunc=new Function(m);result=nFunc()}catch(e){isFunction=!1,element.vDomContentType=""}}if(!1!==setup.snippet){var callbackSnippetMethod=function(e,t,r,n){callback&&callback(element,setup,e,t,mOriginal,r,n)},resultReservedMethod=RaizInterpolation.prototype.snippetMethod(element,m,setup,callbackSnippetMethod,elementReal.parentNode);"callback"==resultReservedMethod?(useCallback=!0,result="a"):result=resultReservedMethod,m=result}"object"==typeof result&&(result=JSON.stringify(result));var status="success";return void 0!==result&&"undefined"!==result&&null!==result&&"null"!==result||(null==callback&&(status="error"),result=mOriginal),{content:result,setup:setup,status:status,type:elementReal.raiz.type,callback:useCallback}},RaizInterpolation.prototype.reservedMethod=function(e,t,r,n){var a=e,i={};void 0!==n&&(i=n.config);var o=e,l=n.reservedMethod;if(-1!=l.indexOf("__time__")){var c=new Date,u=c.getTime(),s=(c.getDate(),c.getMonth(),c.getFullYear(),c.getHours(),c.getMinutes(),c.getSeconds(),u);return o=o.replace("__time__",s)}if(-1!=l.indexOf("__helloworld__"))return"Congratulations, <strong>Raiz v"+raiz.version+"</strong> was successfully loaded";if(-1!=l.indexOf("__request__")){var p=i.method||"get",d=i.url||!1;return 0==d?"["+l+": not found URL]":(raiz.essentials.ajax({url:d,method:p,data:i,success:function(e){r&&r(e,o,a)}}),"callback")}},RaizInterpolation.prototype.snippetMethod=function(el,string,setup,callback,parent){if(null==string)return string;var string_full=string;string=string.replace(/\<\!\-\-\{\{/gi,""),string=string.replace(/\}\}\-\-\>/gi,""),string=string.replace(/\{\{/gi,""),string=string.replace(/\}\}/gi,"");var snippet=setup.snippet;content=string.trim();var contentClean=content.replace(/[\"|\'](.*)[\"|\']/g,function(e,t,r,n){return t}),contentReal=eval(content);if(void 0!==raiz.interpolation.filterList[snippet]){el.raiz.setup;var method=raiz.interpolation.filterList[snippet].method;try{eval(" content = ("+method+")(contentClean,function(content){ callback(content,"+string_full+',"filter",parent); }); '),"ttt"===content&&el.raiz.setup}catch(e){}return"callback"}if("uppercase"==snippet){try{eval(" content = String("+content+").toUpperCase(); ")}catch(e){}callback&&callback(content)}else if("autosequence"==snippet){var array=eval(content);void 0===el.raiz.marqueeIndex&&(el.raiz.marqueeIndex=0),void 0===array[el.raiz.marqueeIndex]&&(el.raiz.marqueeIndex=0),content=array[el.raiz.marqueeIndex],callback&&callback(content),el.raiz.marqueeIndex++}else if("totime"==snippet){eval("var currentdate = new Date(Number("+content+"));");var datetime=currentdate.getDate()+"/"+(currentdate.getMonth()+1)+"/"+currentdate.getFullYear()+" "+currentdate.getHours()+":"+currentdate.getMinutes()+":"+currentdate.getSeconds();content=datetime,callback&&callback(content)}else if("remote"==snippet)try{eval(" content = ("+content+"); ")}catch(e){}return content};var RaizIf=function e(){this.name="if";var t=document.createElement("style");t.innerHTML="[raiz-if]{display:none}",document.querySelector("head").appendChild(t),raiz.essentials.addEvent(window,"load",function(){e.prototype.loop()})};raiz.attachModule(RaizIf),RaizIf.prototype.loop=function(){RaizIf.prototype.init(),setTimeout(function(){RaizIf.prototype.loop()},10)},RaizIf.prototype.init=function(){for(var raizIfrAll=document.querySelectorAll("[raiz-if],[data-raiz-if],[raiz-if-show],[data-raiz-if-show]"),i=0;i<raizIfrAll.length;i++){var el=raizIfrAll[i];null==el.raiz&&(el.raiz={}),null==el.raiz.if&&(el.raiz.if={},el.raiz.if.current=null,el.raiz.if.display=el.style.display);var raizTrueJs=el.getAttribute("raiz-if-true-js"),raizFalseJs=el.getAttribute("raiz-if-false-js"),raizTrueAttr=el.getAttribute("raiz-if-true-attr"),raizFalseAttr=el.getAttribute("raiz-if-false-attr"),raizTrueStyle=el.getAttribute("raiz-if-true-style"),raizFalseStyle=el.getAttribute("raiz-if-false-style");if(null!=raizTrueStyle)var raizTrueStyleArray=raizTrueStyle.split(";");if(null!=raizFalseStyle)var raizFalseStyleArray=raizFalseStyle.split(";");if(null!=raizTrueAttr){var raizTrueAttrArray=raizTrueAttr.split("="),raizTrueAttrKey=raizTrueAttrArray[0]||void 0;if(null!=raizTrueAttrArray[1])var raizTrueAttrValue=raizTrueAttrArray[1]}if(null!=raizFalseAttr){var raizFalseAttrArray=raizFalseAttr.split("="),raizFalseAttrKey=raizFalseAttrArray[0]||void 0;if(null!=raizFalseAttrArray[1])var raizFalseAttrValue=raizFalseAttrArray[1]}var condition=el.getAttribute("raiz-if");null==condition&&(condition=el.getAttribute("raiz-if-show"));var classEvent=raiz.getClassEvent(el);if(condition=condition.replace("this.",classEvent+"."),null!=raizTrueAttr||null!=raizFalseAttr||null!=raizTrueStyle||null!=raizFalseStyle){var nohide=!0;el.setAttribute("raiz-if-show",condition),el.removeAttribute("raiz-if")}else var nohide=!1;try{var cond=eval(condition)}catch(e){var cond=!1}if(cond){if(1!=el.raiz.if.current){if(el.raiz.if.current=!0,0==nohide&&(null!=el.raiz.if.content&&(el.innerHTML=el.raiz.if.content),el.setAttribute("raiz-if-show",condition),el.removeAttribute("raiz-if")),null!=raizTrueStyle)for(var keyCss in raizTrueStyleArray){var raizTrueStyleArrayItem=raizTrueStyleArray[keyCss].split(":"),cssName=raizTrueStyleArrayItem[0],cssValue=raizTrueStyleArrayItem[1];null!=cssValue&&(el.style[cssName]=cssValue)}null!=raizTrueJs&&eval(raizTrueJs),null!=raizTrueAttrKey&&("!"===raizTrueAttrKey.substr(0,1)?el.removeAttribute(raizTrueAttrKey.substr(1)):el.removeAttribute(raizTrueAttrKey),"!"!==raizTrueAttrKey.substr(0,1)&&(void 0===raizTrueAttrValue&&(raizTrueAttrValue=raizTrueAttrKey),el.setAttribute(raizTrueAttrKey,raizTrueAttrValue)));var ifTrue=el.getAttribute("raiz-if-true");eval(ifTrue)}}else if(0!=el.raiz.if.current){if(el.raiz.if.current=!1,!1===nohide){var content=el.innerHTML;el.raiz.if.content=content,el.innerHTML="",el.removeAttribute("raiz-if-show"),el.setAttribute("raiz-if",condition)}if(null!=raizFalseStyle)for(var keyCss in raizFalseStyleArray){var raizFalseStyleArrayItem=raizFalseStyleArray[keyCss].split(":"),cssName=raizFalseStyleArrayItem[0],cssValue=raizFalseStyleArrayItem[1];null!=cssValue&&(el.style[cssName]=cssValue)}null!=raizFalseJs&&eval(raizFalseJs),null!=raizFalseAttrKey&&("!"===raizFalseAttrKey.substr(0,1)?el.removeAttribute(raizFalseAttrKey.substr(1)):el.removeAttribute(raizFalseAttrKey),"!"!==raizFalseAttrKey.substr(0,1)&&(void 0===raizFalseAttrValue&&(raizFalseAttrValue=raizFalseAttrKey),el.setAttribute(raizFalseAttrKey,raizFalseAttrValue)));var ifFalse=el.getAttribute("raiz-if-false");eval(ifFalse)}}};var RaizFor=function e(){this.name="for";var t=document.createElement("style");t.innerHTML="[raiz-for],[raiz-for-hide]{display:none !important}",document.querySelector("head").appendChild(t),raiz.essentials.addEvent(window,"load",function(){e.prototype.init()})};raiz.attachModule(RaizFor),RaizFor.prototype.init=function(){monitorRemoveList=function(monitorRemoveList){var forList=document.querySelectorAll("[raiz-for-key]");if(0<forList.length)for(var i=0;i<forList.length;i++){var el=forList[i];try{var preValue=el.raiz.for.reference}catch(e){continue}eval("try{var value = "+preValue+";}catch(e){var value = false;}");var index=el.getAttribute("raiz-for-index"),forValue=el._raizForRef;if(null!=forValue)try{var val=eval("value"+forValue);null==val&&el.parentNode.removeChild(el)}catch(e){}}setTimeout(function(e){e(e)},0,monitorRemoveList)},monitorRemoveList(monitorRemoveList),RaizFor.prototype.for()},RaizFor.prototype.for=function(){var forFunc=function(gost,indexKey){var element=gost.clone,dataFor=element.getAttribute("raiz-for"),dataForArray=dataFor.split(" in "),preKey=dataForArray[0],preValue=dataForArray[1];preKey=preKey.trim();var classEvent=raiz.getClassEvent(gost.parentNode);preValue=preValue.replace("this.",classEvent+"."),eval("try{var value = "+preValue+";}catch(e){var value = false;}");var childRem=function(e,t){for(var r in t);};for(var keyPreFor in value){value[keyPreFor].index=keyPreFor;var el=document.querySelector('[raiz-for-key="'+indexKey+'"][raiz-for-index="'+keyPreFor+'"]');if(null==el){var cln=element.cloneNode(!0);if(null==element.firstChild&&(element.innerHTML=" "),null!=element.firstChild.raiz)var preContent=element.firstChild.raiz.innerHTML||element.innerHTML;else var preContent=element.innerHTML;var checkNumberTest=Number(keyPreFor);if(isNaN(checkNumberTest))var typeKey="string";else var typeKey="number";var preContentSave=preContent;if(preContent="number"==typeKey?String(preContent).replace(new RegExp(preKey,"gm"),preValue+"["+keyPreFor+"]"):String(preContent).replace(new RegExp(preKey,"gm"),"("+preValue+")['"+keyPreFor+"']"),null!=element.raiz&&null!=element.raiz.attr)for(var keyAttr in element.raiz.attr){var attrValue=element.raiz.attr[keyAttr];attrValue=String(attrValue).replace(new RegExp(preKey,"gm"),"("+preValue+")['"+keyPreFor+"']"),cln[keyAttr]=attrValue}if(preContent=preContent.replace(/raiz-for=.*" /gim,""),null!=value[keyPreFor]._child){var childFunc=function(e,t,r,n,a,i,o,l,c,u,s,p){var d=String(t.tagName).toLowerCase();if("li"==d)var m="ul";else m=d;var f=r;for(var v in f+="<"+m+" >",l){var z=n,y=c+"._child["+(l[v].index=v)+"]",h=u+"._child["+v+"]";z="number"==typeKey?String(z).replace(new RegExp(a,"gm"),i+"["+o+"]"+y):String(z).replace(new RegExp(a,"gm"),"("+i+")['"+o+"']"+y),null!=l[v]._child&&(z+=e(e,t,"",n,a,i,o,l[v]._child,y,h,s));value[keyPreFor]._child[v];var g="";for(var b in t.attributes)if("raiz-for"!=t.attributes[b].name&&null!=t.attributes[b].name&&null!=t.attributes[b].value){var A=t.attributes[b].value;if(/(<!--{{[\s\S]*?}}-->|{{[\s\S]*?}})/gim.test(A))var R=String(A).replace(new RegExp(a,"gm"),i+"["+o+"]"+y);else R=t.attributes[b].value;g+=t.attributes[b].name+'="'+R+'" '}f+="<"+d+' raiz-for-key="'+p+'" raiz-for-value="'+h+'" '+g+" >"+z+"</"+d+">"}return f+="</"+m+">"},html=childFunc(childFunc,cln,preContent,preContentSave,preKey,preValue,keyPreFor,value[keyPreFor]._child,"","["+keyPreFor+"]",0,indexKey);cln.innerHTML=html}else cln.innerHTML=preContent;for(var key in setTimeout(function(e){var t=document.querySelectorAll('[raiz-for-key="'+e+'"][raiz-for-value]');if(0<t.length)for(var r=0;r<t.length;r++){var n=t[r],a=n.getAttribute("raiz-for-value");n._raizForRef=a,setTimeout(function(e){e.removeAttribute("raiz-for-value")},100,n)}},100,preKey),cln.setAttribute("raiz-for-key",indexKey),cln.setAttribute("raiz-for-index",keyPreFor),cln._raizForRef="["+keyPreFor+"]",cln.attributes){var attrValue=cln.attributes[key].value;if(/(<!--{{[\s\S]*?}}-->|{{[\s\S]*?}})/gim.test(attrValue))var attrValueSet=String(attrValue).replace(new RegExp(preKey,"gm"),"("+preValue+")['"+keyPreFor+"']");else var attrValueSet=cln.attributes[key].value;cln.attributes[key].value=attrValueSet}null==cln.raiz&&(cln.raiz={}),void 0===cln.raiz.for&&(cln.raiz.for={}),cln.raiz.for.reference=preValue,cln.raiz.for.value=value,cln.removeAttribute("raiz-for"),cln.setAttribute("raiz-for-hide",""),gost.parentNode.insertBefore(cln,gost),setTimeout(function(e){e.removeAttribute("raiz-for-hide")},200,cln)}}},raizForAll=document.querySelectorAll("[raiz-for],[data-raiz-for]");null==RaizFor.prototype.for.listFor&&(RaizFor.prototype.for.listFor={});for(var i=0;i<raizForAll.length;i++){var element=raizForAll[i],currentdate=new Date,timestamp=currentdate.getTime(),dataFor=element.getAttribute("raiz-for"),dataForArray=dataFor.split(" in "),preKey=dataForArray[0]+"_"+timestamp,preValue=dataForArray[1];preKey=preKey.trim();var classEvent=raiz.getClassEvent(element.parentNode);if(preValue=preValue.replace("this.",classEvent+"."),eval("try{var value = "+preValue+";}catch(e){var value = false;}"),void 0===RaizFor.prototype.for.listFor[preKey]){var gost=document.createTextNode("");gost.clone=element,RaizFor.prototype.for.listFor[preKey]=gost,element.parentNode.insertBefore(gost,element.nextSibling)}element.parentNode.removeChild(element)}var index=0;for(var keyPreFor in RaizFor.prototype.for.listFor)forFunc(RaizFor.prototype.for.listFor[keyPreFor],index),index++;setTimeout(function(){RaizFor.prototype.for()},50)};var RaizEvents=function e(){this.name="events",raiz.essentials.addEvent(window,"load",function(){e.prototype.radar(function(){e.prototype.init()}),e.prototype.tagEvent()})};raiz.attachModule(RaizEvents),RaizEvents.prototype.init=function(){var vdomIdAll=document.querySelectorAll("[data-raiz-controller],[raiz-controller]");if(0<vdomIdAll.length)for(var i=0;i<vdomIdAll.length;i++){var instance=vdomIdAll[i],controller=instance.getAttribute("raiz-controller");if(""!=String(controller).replace(/ /g,"")){eval("try{var object =  "+controller+";}catch(e){}");var methodArray=[],index=0;for(var key2 in object)methodArray[index]={key:key2,object:object},index++;var methodSeq=function(e,t,r,n,a,i){var o=!0,l=t[r];try{var c=l.key}catch(e){return i&&i(n,a),!1}var u=(n=l.object)[c];try{var s=a.querySelectorAll(c)}catch(e){s=[];o=!1}if("string"!=typeof n[c]&&0<s.length&&(n[c].dom=s),!1!==o)for(var p in s){var d=s[p];null!=d.tagName&&("function"==typeof u&&"function (){}"!=u.toString()&&(null==d.raiz&&(d.raiz={}),null==d.raiz.event&&(d.raiz.event={}),void 0===d.raiz.event.attach&&(d.raiz.event.attach=u,RaizEvents.prototype.attachEventEffective(d,c,u,s))))}r++,setTimeout(function(e,t,r,n,a,i){e(e,t,r,n,a,i)},10,e,t,r,n,a,i)};methodSeq(methodSeq,methodArray,0,object,instance,function(e,t){})}}},RaizEvents.prototype.attachEventEffective=function(e,t,r,n){try{var a=r()}catch(e){return!1}for(var i in a)if("attr"==i)for(var o in a[i])e[o]=a[i][o];else{var l=i.replace(","," ");raiz.essentials.addEvent(e,l,function(e,t,r){t[r].call(this,e)},null,a,i)}},RaizEvents.prototype.radar=function(callbackFirst){var vdomIdAll=document.querySelectorAll("[data-raiz-controller],[raiz-controller]"),seq=function(seq,array,index,callback){if(index>=array.length)return callback&&callback(),!1;var container=array[index],controller=container.getAttribute("raiz-controller");if(""==String(controller).replace(/ /g,""))return index++,setTimeout(function(e,t,r,n){e(e,t,r,n)},10,seq,array,index,callback),!1;eval("try{var object =  "+controller+";}catch(e){}"),raiz.walkDom(container,{element:function(e){return!1}},function(t){return null!=object&&(1!=object.initRaizEvent&&(object.initRaizEvent=!0,void(object.construct&&null==object.construct.init&&(object.construct.init=!0,object.selector=function(e){return t.querySelectorAll(e)},object.construct(t)))))}),index++,setTimeout(function(e,t,r,n){e(e,t,r,n)},10,seq,array,index,callback)};seq(seq,vdomIdAll,0,function(){callbackFirst&&callbackFirst(),RaizEvents.prototype.radar(callbackFirst)})},RaizEvents.prototype.createDomMember=function(e,t,r,n){var a=!1;if(null==r)return!1;var i=[e];try{i=t.querySelectorAll("["+n.nodeName+'="'+n.nodeValue+'"]'),a=!0}catch(e){}if(0==a)try{i=t.querySelectorAll("#"+n.nodeValue),a=!0}catch(e){}if(0==a)try{i=t.querySelectorAll("."+n.nodeValue),a=!0}catch(e){}if(0==a)try{i=t.querySelectorAll(n.nodeValue),a=!0}catch(e){}if(void 0===r["#"+n.nodeValue]&&(r["#"+n.nodeValue]=function(){}),r["#"+n.nodeValue].dom=i,void 0===r["."+n.nodeValue]&&(r["."+n.nodeValue]=function(){},r["."+n.nodeValue].dom=i),void 0===r["["+n.nodeName+'="'+n.nodeValue+'"]']){var o=r["."+n.nodeValue]||r["#"+n.nodeValue]||function(){};r["["+n.nodeName+'="'+n.nodeValue+'"]']=o,r["["+n.nodeName+'="'+n.nodeValue+'"]'].dom=i}if(void 0===r["["+n.nodeName+"='"+n.nodeValue+"']"]){o=r["."+n.nodeValue]||r["#"+n.nodeValue]||function(){};r["["+n.nodeName+"='"+n.nodeValue+"']"]=o,r["["+n.nodeName+"='"+n.nodeValue+"']"].dom=i}if(void 0===r["["+n.nodeName+"="+n.nodeValue+"]"]){o=r["."+n.nodeValue]||r["#"+n.nodeValue]||function(){};r["["+n.nodeName+"="+n.nodeValue+"]"]=o,r["["+n.nodeName+"="+n.nodeValue+"]"].dom=i}},RaizEvents.prototype.tagEvent=function(){for(var raizIfrAll=document.querySelectorAll("[raiz-event]"),i=0;i<raizIfrAll.length;i++){var el=raizIfrAll[i];if(!0!==el.raizEventInit){el.raizEventInit=!0;var attrValue=el.getAttribute("raiz-event"),classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue=attrValue.replace(/this\./g,classEvent+"."));try{var val=eval(attrValue)}catch(e){return el.raizEventInit=!1,setTimeout(function(){RaizEvents.prototype.tagEvent()},300),!1}if(null==val)return el.raizEventInit=!1,!1;if("object"==typeof val)var valFor=val;else var valFor=val();for(var key in valFor){var ev=valFor[key];key=key.replace(","," "),raiz.essentials.addEvent(el,key,function(e,t){return t.call(this,e)},null,ev)}}}setTimeout(function(){RaizEvents.prototype.tagEvent()},500)};var RaizHmvc=function n(){this.name="hmvc",this.config={dir:null},this.container=null,raiz.essentials.addEvent(window,"load",function(){var e=function(e){var t=document.querySelectorAll("[raiz-hmvc],[data-raiz-hmvc]");if(t.length<1)return raiz.timestep(function(e){e(e)},e),!1;for(var r=0;r<t.length;r++)element=t[r],null==element.raiz&&(element.raiz={}),null==element.raiz.hmvc&&(element.raiz.hmvc={}),!0!==element.raiz.hmvc.Init&&(element.raiz.hmvc.Init=!0,Raiz.prototype.monitorUrl(function(){for(var e=document.querySelectorAll("[raiz-hmvc],[data-raiz-hmvc]"),t=0;t<e.length;t++)element=e[t],n.prototype.init(element)}));raiz.timestep(function(e){e(e)},e)};e(e)})};raiz.attachModule(RaizHmvc),RaizHmvc.prototype.OverwriteLinks=function(){var e=document.querySelectorAll("a");if(0<e.length)for(var t in e){var r=e[t];1!=r.hmvcinit&&(r.hmvcinit=!0,raiz.essentials.addEvent(r,"click",function(e){document.querySelector(raiz.hmvc.config.container),(window.location.origin+window.location.pathname).replace(raiz.config.domain,"");var t=this.href.replace(raiz.config.domain,""),r=(raiz.config.domain,raiz.config.domain+t);return window.history.pushState(null,null,r),RaizHmvc.prototype.init(),e.preventDefault(),!1}))}},RaizHmvc.prototype.init=function(i,e){null==e&&(e=(e=window.location.hash).replace("#",""));var t=r=e;this.location=r,this.router=t||"home",i.setAttribute("data-route",this.router),document.querySelector("html").setAttribute("raiz-hmvc-route",this.router);var r,n,a,o,l,c=(t=(r=window.location.origin+window.location.pathname).replace(raiz.config.domain,""))+i.getAttribute("raiz-hmvc")+"/"+this.router+"/package.html";n=c,a=this.router,l=function(e,t){if("BODY"==t.tagName)return!(t.scrollY="0px");t.scrollTop=0,raiz.timestep(function(e,t){e(e,t)},e,t.parentNode)},raiz.essentials.ajax({url:n,method:"get",error:function(e){o&&o()},success:function(e){var t=a;t.replace("-","_"),t=t.replace("-","_"),i.classList.add(""+t),e=(e=e.replace(/{route-name}/g,a))+'\n<script type="text/javascript">try{'+t+" = Controller;}catch(e){};<\/script>";var r=n.substr(0,n.lastIndexOf("/"))+"";e=e.replace(/{route-url}/g,r),i.htmlTemplate(e,function(e){!function(e){try{if(null==Controller)return;if(hmvccontroller=Controller,i.setAttribute("raiz-controller","hmvccontroller"),null==document.querySelector('head > meta[name="description"]')&&void 0!==hmvccontroller.meta.title){var t=document.createElement("title");document.querySelector("head").appendChild(t)}if(null==document.querySelector('head > meta[name="description"]')&&void 0!==hmvccontroller.meta.description){var r=document.createElement("meta");r.setAttribute("name","description"),document.querySelector("head").appendChild(r)}if(null==document.querySelector('head > meta[name="keywords"]')&&void 0!==hmvccontroller.meta.keywords){var n=document.createElement("meta");n.setAttribute("name","keywords"),document.querySelector("head").appendChild(n)}if(null==document.querySelector('head > meta[name="robots"]')&&void 0!==hmvccontroller.meta.robots){var a=document.createElement("meta");a.setAttribute("name","robots"),document.querySelector("head").appendChild(a)}void 0!==hmvccontroller.meta.title&&(document.querySelector("head > title").innerHTML=hmvccontroller.meta.title),void 0!==hmvccontroller.meta.description&&document.querySelector('head > meta[name="description"]').setAttribute("content",hmvccontroller.meta.description),void 0!==hmvccontroller.meta.keywords&&document.querySelector('head > meta[name="keywords"]').setAttribute("content",hmvccontroller.meta.keywords),void 0!==hmvccontroller.meta.robots&&document.querySelector('head > meta[name="robots"]').setAttribute("content",hmvccontroller.meta.robots)}catch(e){}l(l,i)}()})}})},RaizHmvc.prototype.loadController=function(a){var e=(window.location.origin+window.location.pathname).replace(raiz.config.domain,"")+a.getAttribute("raiz-hmvc")+"/"+this.router+"/Controller.js",t=document.createElement("script");t.src=e,a.appendChild(t);t.onload=function(){try{if(null==Controller)return!1;hmvccontroller=Controller;a.setAttribute("raiz-controller","hmvccontroller");if(null==document.querySelector('head > meta[name="description"]')&&void 0!==hmvccontroller.meta.title){var e=document.createElement("title");document.querySelector("head").appendChild(e)}if(null==document.querySelector('head > meta[name="description"]')&&void 0!==hmvccontroller.meta.description){var t=document.createElement("meta");t.setAttribute("name","description"),document.querySelector("head").appendChild(t)}if(null==document.querySelector('head > meta[name="keywords"]')&&void 0!==hmvccontroller.meta.keywords){var r=document.createElement("meta");r.setAttribute("name","keywords"),document.querySelector("head").appendChild(r)}if(null==document.querySelector('head > meta[name="robots"]')&&void 0!==hmvccontroller.meta.robots){var n=document.createElement("meta");n.setAttribute("name","robots"),document.querySelector("head").appendChild(n)}void 0!==hmvccontroller.meta.title&&(document.querySelector("head > title").innerHTML=hmvccontroller.meta.title),void 0!==hmvccontroller.meta.description&&document.querySelector('head > meta[name="description"]').setAttribute("content",hmvccontroller.meta.description),void 0!==hmvccontroller.meta.keywords&&document.querySelector('head > meta[name="keywords"]').setAttribute("content",hmvccontroller.meta.keywords),void 0!==hmvccontroller.meta.robots&&document.querySelector('head > meta[name="robots"]').setAttribute("content",hmvccontroller.meta.robots)}catch(e){}}},RaizHmvc.prototype.loadAssets=function(e){var t=(window.location.origin+window.location.pathname).replace(raiz.config.domain,"")+e.getAttribute("raiz-hmvc")+"/"+this.router+"/style.css",r=document.createElement("link");r.setAttribute("rel","stylesheet"),r.type="text/css",r.href=t,e.appendChild(r);r.onload=function(){}},RaizHmvc.prototype.loadView=function(r){var e=(window.location.origin+window.location.pathname).replace(raiz.config.domain,"")+""+r.getAttribute("raiz-hmvc")+"/"+this.router+"/view.html",n=function(e,t){if("BODY"==t.tagName)return!(t.scrollY="0px");t.scrollTop=0,raiz.timestep(function(e,t){e(e,t)},e,t.parentNode)};raiz.essentials.ajax({url:e,method:"get",success:function(e){if(r.innerHTML=e,null!=document.querySelector("[raiz-core-attr]")){var t=document.querySelector("[raiz-core-attr]").getAttribute("raiz-core-attr");t=raiz.essentials.stringToObject(t)}else t={loadcss:!0};0!=t.loadcss&&RaizHmvc.prototype.loadAssets(r),n(n,r)},error:function(e){r.innerHTML=""}})};var RaizComponent={},RaizComponents=function e(){this.name="components",this.config={dir:""},this.container=null,this.count=0;var t=document.createElement("style");t.innerHTML="[raiz-component]{visibility:hidden}",document.querySelector("head").appendChild(t),raiz.essentials.addEvent(window,"load",function(){raiz.loop(function(){e.prototype.init()})})};raiz.attachModule(RaizComponents),RaizComponents.prototype.init=function(){for(var e=document.querySelectorAll("[raiz-component],[data-raiz-component]"),t=0;t<e.length;t++){var r=e[t],n=r.getAttribute("disabled");null==n&&"true"!=n&&(1!=r.raizComponentsInit&&(r.raizComponentsInit=!0,RaizComponents.prototype.loadComponent(r)))}},RaizComponents.prototype.replaces=function(e,t){var r=e.substr(0,e.lastIndexOf("/"))+"";return t=t.replace(/{component-url}/g,r)},RaizComponents.prototype.loadComponent=function(element,callback){var componentName=element.getAttribute("raiz-component")||element.getAttribute("data-raiz-component");if(null==componentName)return!1;var attr={},attrs=element.attributes;for(var key in attrs)if(-1!==String(attrs[key].name).indexOf("attr-")){var attrName=String(attrs[key].name);attrNameArray=attrName.split("-"),attrName=attrNameArray[1],attr[attrName]=attrs[key].value}if(null!==element.getAttribute("dev")&&void 0!==element.getAttribute("data-dev"))var attrDev=element.getAttribute("dev");if(-1!=componentName.indexOf("::"))var componentNameArray=componentName.split("::");else var componentNameArray=["app/components",componentName];var componentDir=componentNameArray[0];componentName=componentNameArray[1]||null;var location=window.location.origin+window.location.pathname,router=location.replace(raiz.config.domain,"");router=router.substr(0,router.lastIndexOf("/"))+"/","@raiz"==componentDir&&(componentDir="https://rawgit.com/raizjs/components/master");var urlBase="/"+componentName+"/";urlBase=componentDir+String("/"+urlBase).replace("//","/");var url="/"+componentName+"/view.html";url=componentDir+String("/"+url).replace("//","/"),""!=raiz.config.domain||null!=raiz.config.domain?-1===componentDir.indexOf("://")&&(url=router+url,urlBase=router+urlBase):-1===componentDir.indexOf("://")&&(url=raiz.config.domain+url,urlBase=raiz.config.domain+urlBase);var urlPackageBase="/"+componentName+"/",urlPackage="/"+componentName+"/package.html";urlPackage=componentDir+String("/"+urlPackage).replace("//","/"),urlPackageBase=componentDir+String("/"+urlPackageBase).replace("//","/"),""!=raiz.config.domain||null!=raiz.config.domain?-1===componentDir.indexOf("://")&&(urlPackage=router+urlPackage,urlPackageBase=router+urlPackageBase):-1===componentDir.indexOf("://")&&(urlPackage=raiz.config.domain+urlPackage,urlPackageBase=raiz.config.domain+urlPackageBase),raiz.components.current={url:urlPackageBase,name:componentName};var cssUrl="/"+componentName+"/style.css";cssUrl=componentDir+String("/"+cssUrl).replace("//","/"),""!=raiz.config.domain||null!=raiz.config.domain?-1===componentDir.indexOf("://")&&(cssUrl=router+cssUrl):-1===componentDir.indexOf("://")&&(cssUrl=raiz.config.domain+cssUrl);var jsUrl="/"+componentName+"/Controller.js";jsUrl=componentDir+String("/"+jsUrl).replace("//","/"),""!=raiz.config.domain||null!=raiz.config.domain?-1===componentDir.indexOf("://")&&(jsUrl=router+jsUrl):-1===componentDir.indexOf("://")&&(jsUrl=raiz.config.domain+jsUrl);var classNameAdd=componentName;classNameAdd=classNameAdd.replace(/\/\//g,"/"),classNameAdd=classNameAdd.replace(/\//g,"-");var body=element.innerHTML,inner=element.textContent,loadPackage=function(urlHtml,body,inner,callbackSuccess,callbackError,attr){raiz.essentials.ajax({url:urlHtml,method:"get",error:function(e){callbackError&&callbackError()},success:function(response){var classNameAddVar=classNameAdd.replace("-","_");classNameAdd=classNameAdd.replace("-","_"),element.classList.add(""+classNameAdd),RaizComponents.prototype.replaces(urlHtml,response),response=response.replace(/{component-name}/g,componentName);var scriptClass='<script type="text/javascript">try{'+classNameAdd+" = Controller;}catch(e){};<\/script>";response=response+"\n"+scriptClass;var dir=urlHtml.substr(0,urlHtml.lastIndexOf("/"))+"";response=response.replace(/{component-url}/g,dir);var func=function(container,body,inner){body=body.replace(/\n/g,""),body=body.replace(/\'/g,"\\'");var timestamp=raiz.components.count;raiz.components.count++;var raizControllerDefault=container.getAttribute("raiz-controller");if(null!=raizControllerDefault)try{var raizControllerDefault=raizControllerDefault.replace(".","_");eval(raizControllerDefault+" = "+classNameAdd+" ;"),eval("var currentController = "+raizControllerDefault+";"),null==currentController.container&&(currentController.container=container),""!=body&&(currentController.body={html:body,text:inner}),currentController.attr=attr,eval(raizControllerDefault+" = currentController;")}catch(e){}else try{try{eval("component_"+classNameAdd+"_"+timestamp+" = "+classNameAdd+";")}catch(e){eval("component_"+classNameAdd+"_"+timestamp+" = (function(){function Controller() {return this;}return new Controller();})(); ")}eval("var currentController = component_"+classNameAdd+"_"+timestamp+";"),null==currentController.container&&(currentController.container=container);var raizController=container.setAttribute("raiz-controller","component_"+classNameAdd+"_"+timestamp);""!=body&&(currentController.body={html:body,text:inner}),currentController.attr=attr,eval("component_"+classNameAdd+"_"+timestamp+" = currentController;")}catch(e){}};"LINK"==element.tagName?document.querySelector("head").appendWithoutHTML(response,func):element.htmlTemplate(response,function(e){func(this,body,inner)}),callbackSuccess&&callbackSuccess(element)}})};loadPackage(urlPackage,body,inner,function(e){e.style.visibility="visible",callback&&callback()},null,attr)};var RaizBind=function e(){this.name="bind",raiz.essentials.addEvent(window,"load",function(){e.prototype.init()})};raiz.attachModule(RaizBind),RaizBind.prototype.init=function(){for(var raizIfrAll=document.querySelectorAll("[raiz-bind]"),i=0;i<raizIfrAll.length;i++){var el=raizIfrAll[i];null==el.raiz&&(el.raiz={}),null==el.raiz.bind&&(el.raiz.bind={});var attrValue=el.getAttribute("raiz-bind");if(1!=el.raiz.bind.init){var loop=function(loop,el){el.raiz.bind.init=!0;try{el.raiz.bind.reference=el.raiz.attr["raiz-bind"].reference}catch(e){}var attrValue=el.raiz.bind.reference||"",classEvent=raiz.getClassEvent(el.parentNode);!1!==classEvent&&(attrValue=attrValue.replace(/this\./g,classEvent+".")),attrValue=attrValue.replace(/\{\{/g,""),attrValue=attrValue.replace(/\}\}/g,"");var isFocused=document.activeElement===el;if(!isFocused)try{var val=eval(attrValue);void 0===el.value?el.innerHTML!==val&&null!=val&&(el.innerHTML=val):el.value!==val&&null!=val&&(el.value=val)}catch(e){}setTimeout(function(){loop(loop,el)},100)};if(loop(loop,el),"INPUT"==el.tagName)var eventType="input";else if("INPUT"==el.tagName)var eventType="change keyup";else var eventType="change keyup";raiz.essentials.addEvent(el,eventType,function(obj,attrValue){var isFocused=document.activeElement===this;if(isFocused){if(void 0!==this.value)var text=this.value;else var text=this.innerHTML;text=text.replace(/\"/g,'\\"');var reference=this.raiz.bind.reference;reference=reference.replace(/\{\{/,""),reference=reference.replace(/\}\}/,"");var classEvent=raiz.getClassEvent(this.parentNode);!1!==classEvent&&(reference=reference.replace(/this\./g,classEvent+".")),eval(reference+'="'+text+'";')}},null,attrValue)}}setTimeout(function(){RaizBind.prototype.init()},100)};var RaizObserver=function(){return this.name="observer",this.listObserver=[],this};raiz.attachModule(RaizObserver),RaizObserver.prototype.on=function(d){var e=this.listObserver.length;this.listObserver[e]=d;var t=function(t,e){var r=d.target||null,n=d.attr||null,a=d.callback||null;if("function"==typeof r){var i=r();if(d.condition!==i){var o=d.condition;d.condition=i,null!=o&&a&&a.call(i,d)}}else{var l=document.querySelectorAll(r);if(0<l.length)for(var c in l){var u=l[c],s=u[n];if("function"!=typeof s||null!=u.previous){if(u.previous!=s){var p=u.previous;u.previous=s,null!=p&&a&&a.call(u,s,d)}}else u.previous=a,raiz.essentials.addEvent(u,n,a)}}setTimeout(function(e){t(t,e)},100,e)};t(t,this.listObserver)};var RaizImport=function e(){this.name="import",raiz.essentials.addEvent(window,"load",function(){e.prototype.init()})};raiz.attachModule(RaizImport),RaizImport.prototype.init=function(){var e=function(e,t,r,n){if(null==t[r]||null==t[r])return n&&n(),!1;var a=t[r],i=a.getAttribute("raiz-import");null==a.raiz&&(a.raiz={}),null==a.raiz.import&&(a.raiz.import={url:i},raiz.essentials.ajax({url:i,success:function(e){e=(e=e.replace(/{component-url}/g,raiz.components.current.url)).replace(/{component-name}/g,raiz.components.current.name),a.html(e)}}),setTimeout(function(e,t,r,n){e(e,t,r+1,n)},10,e,t,r,n))};e(e,document.querySelectorAll("[raiz-import]"),0,function(){}),setTimeout(function(){RaizImport.prototype.init()},0)};